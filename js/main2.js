var _$_f8b8=["touchmove","preventDefault","addEventListener","body","DOMContentLoaded","attach","menuButton","getElementById","sideBar","mask","loading","onclick","open","toggle","classList","show","remove","ten-drop.wilddog.com","https://ten-drop.wilddogio.com","initializeApp","ref","sync","user","child","userImg","levelRank","userName","canvas","2d","getContext","width","height","leftDrop","NONE","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","push","info","restartBtn","level","bestLevel","todayBest","best","loadBg","x","y","generation","direction","colorArr","#43A6FF","#1BD369","#FF7575","prototype","chooseDraw","color","draw_1","draw_2","draw_3","draw_4","draw_5","left","add_broken","dropCollection","right","up","down","save","fillStyle","scale","beginPath","moveTo","PI","arc","closePath","fill","restore","w","h","hor","ver","boardArr","lineTo","stroke","dropArr","brokenArr","clearRect","length","process","splice","isInto","board","floor","gameStart","pause","startTime","endTime","name","init","add","innerHTML","timeChange","clickSelect","getTime","isGameOver","Game over!","offsetX","offsetY","You win! Try your best to go to next level!","nextLevel","You lose!","fly","Level ","setBest","today","Try your best! Give you another "," drop!","","0","round","userAgent","\u5929 ","\u5c0f\u65f6 "," \u5206\u949f"," \u79d2","src","encrypt","_","update","random","reset","code","response","avatar_url","href","https://bupt-hjm.github.io/ten-drop/","GET","users/profile","user_id","data","ajax","API","on","visitor","value","val","set","toDateString","playTime","rank","UA","time","t","token","once","img","unshift","log","forEach","\u795e\u79d8\u4eba\uff08\u672a\u83b7\u53d6\u5230name\uff09","<p><span class='user-rank'>","</span><img src=","><span class='user-rank-name'>","</span><span class='user-level'>level ","</span></p>","limitToLast","orderByChild","todayRank","hide","switch","rankTitle","\u4eca\u65e5\u5b9e\u65f6\u6392\u884c\u699c","\u5386\u53f2\u6392\u884c\u699c","\u4eca\u65e5","\u5386\u53f2"];document[_$_f8b8[3]][_$_f8b8[2]](_$_f8b8[0],function(a){a[_$_f8b8[1]]()},false);if(_$_f8b8[2] in  document){document[_$_f8b8[2]](_$_f8b8[4],function(){FastClick[_$_f8b8[5]](document[_$_f8b8[3]])},false)};var menuButton=document[_$_f8b8[7]](_$_f8b8[6]);var sideBar=document[_$_f8b8[7]](_$_f8b8[8]);var mask=document[_$_f8b8[7]](_$_f8b8[9]);var loading=document[_$_f8b8[7]](_$_f8b8[10]);menuButton[_$_f8b8[11]]= function(){sideBar[_$_f8b8[14]][_$_f8b8[13]](_$_f8b8[12]);mask[_$_f8b8[14]][_$_f8b8[13]](_$_f8b8[15])};mask[_$_f8b8[11]]= function(){sideBar[_$_f8b8[14]][_$_f8b8[16]](_$_f8b8[12]);mask[_$_f8b8[14]][_$_f8b8[16]](_$_f8b8[15])};var pastPlayTime;var todayPlayTime= new Date();var userData;var config={authDomain:_$_f8b8[17],syncURL:_$_f8b8[18]};var defApp=wilddog[_$_f8b8[19]](config);var ref=wilddog[_$_f8b8[21]]()[_$_f8b8[20]]();var user_ref=ref[_$_f8b8[23]](_$_f8b8[22]);var userImg=document[_$_f8b8[7]](_$_f8b8[24]);var levelRank=document[_$_f8b8[7]](_$_f8b8[25]);var userNameP=document[_$_f8b8[7]](_$_f8b8[26]);var canvas=document[_$_f8b8[7]](_$_f8b8[27]);var ctx=canvas[_$_f8b8[29]](_$_f8b8[28]);canvas[_$_f8b8[30]]= 600;canvas[_$_f8b8[31]]= 600;var w=canvas[_$_f8b8[30]];var h=canvas[_$_f8b8[31]];var leftDropNum=10;var leftDropSpan=document[_$_f8b8[7]](_$_f8b8[32]);var leftDropArr=[_$_f8b8[33],_$_f8b8[34],_$_f8b8[35],_$_f8b8[36],_$_f8b8[37],_$_f8b8[38],_$_f8b8[39],_$_f8b8[40],_$_f8b8[41],_$_f8b8[42],_$_f8b8[43]];for(var i=11;i< 100;i++){leftDropArr[_$_f8b8[44]](i)};var infoP=document[_$_f8b8[7]](_$_f8b8[45]);var restartBtn=document[_$_f8b8[7]](_$_f8b8[46]);var levelP=document[_$_f8b8[7]](_$_f8b8[47]);var bestLevel=document[_$_f8b8[7]](_$_f8b8[48]);var todayBest=document[_$_f8b8[7]](_$_f8b8[49]);var best=document[_$_f8b8[7]](_$_f8b8[50]);var loadBg=document[_$_f8b8[7]](_$_f8b8[51]);var game=null;var Drop=function(){this[_$_f8b8[52]]= w/ 2;this[_$_f8b8[53]]= h/ 2;this[_$_f8b8[54]]= 1;this[_$_f8b8[55]]= null;this[_$_f8b8[56]]= [_$_f8b8[57],_$_f8b8[58],_$_f8b8[59]]};Drop[_$_f8b8[60]]= {process:function(){this[_$_f8b8[61]]()},chooseDraw:function(){var b=(game[_$_f8b8[47]]- 1)% 3;this[_$_f8b8[62]]= this[_$_f8b8[56]][b];switch(this[_$_f8b8[54]]){case 1:this[_$_f8b8[63]]();break;case 2:this[_$_f8b8[64]]();break;case 3:this[_$_f8b8[65]]();break;case 4:this[_$_f8b8[66]]();break;case 5:this[_$_f8b8[67]]();break;default:break}},draw_1:function(){EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],15,20,this[_$_f8b8[62]])},draw_2:function(){EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],30,30,this[_$_f8b8[62]])},draw_3:function(){EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],45,35,this[_$_f8b8[62]])},draw_4:function(){EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],50,50,this[_$_f8b8[62]])},draw_5:function(){var c=this[_$_f8b8[52]];var d=this[_$_f8b8[53]];if(this[_$_f8b8[55]]== null){this[_$_f8b8[54]]= 6;EvenCompEllipse(ctx,this[_$_f8b8[52]]- 20,this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]]+ 20,this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]]- 20,10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]]+ 20,10,10,this[_$_f8b8[62]])}else {EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);EvenCompEllipse(ctx,this[_$_f8b8[52]],this[_$_f8b8[53]],10,10,this[_$_f8b8[62]]);return};var f= new Drop();f[_$_f8b8[52]]= c- 20;f[_$_f8b8[53]]= d;f[_$_f8b8[54]]= 5;f[_$_f8b8[55]]= _$_f8b8[68];game[_$_f8b8[70]][_$_f8b8[69]](f);var g= new Drop();g[_$_f8b8[52]]= c+ 20;g[_$_f8b8[53]]= d;g[_$_f8b8[54]]= 5;g[_$_f8b8[55]]= _$_f8b8[71];game[_$_f8b8[70]][_$_f8b8[69]](g);var j= new Drop();j[_$_f8b8[52]]= c;j[_$_f8b8[53]]= d+ 20;j[_$_f8b8[54]]= 5;j[_$_f8b8[55]]= _$_f8b8[72];game[_$_f8b8[70]][_$_f8b8[69]](j);var e= new Drop();e[_$_f8b8[52]]= c;e[_$_f8b8[53]]= d- 20;e[_$_f8b8[54]]= 5;e[_$_f8b8[55]]= _$_f8b8[73];game[_$_f8b8[70]][_$_f8b8[69]](e)}};function EvenCompEllipse(T,m,n,R,S,U){T[_$_f8b8[74]]();T[_$_f8b8[75]]= U;var V=(R> S)?R:S;var W=R/ V;var X=S/ V;T[_$_f8b8[76]](W,X);T[_$_f8b8[77]]();T[_$_f8b8[78]]((m+ R)/ W,n/ X);T[_$_f8b8[80]](m/ W,n/ X,V,0,2* Math[_$_f8b8[79]]);T[_$_f8b8[81]]();T[_$_f8b8[82]]();T[_$_f8b8[83]]()}var Board=function(){this[_$_f8b8[84]]= canvas[_$_f8b8[30]];this[_$_f8b8[85]]= canvas[_$_f8b8[31]];this[_$_f8b8[86]]= 6;this[_$_f8b8[87]]= 6;this[_$_f8b8[88]]= []};Board[_$_f8b8[60]]= {init:function(){for(var i=0;i< this[_$_f8b8[86]];i++){for(var k=0;k< this[_$_f8b8[87]];k++){var m=i* this[_$_f8b8[84]]/ this[_$_f8b8[86]]+ this[_$_f8b8[84]]/ this[_$_f8b8[86]]/ 2;var n=k* this[_$_f8b8[85]]/ this[_$_f8b8[87]]+ this[_$_f8b8[85]]/ this[_$_f8b8[87]]/ 2;var l={x:m,y:n};this[_$_f8b8[88]][_$_f8b8[44]](l)}}},draw:function(){for(var i=0;i<= this[_$_f8b8[86]];i++){ctx[_$_f8b8[74]]();ctx[_$_f8b8[77]]();ctx[_$_f8b8[78]](i* this[_$_f8b8[84]]/ this[_$_f8b8[86]],0);ctx[_$_f8b8[89]](i* this[_$_f8b8[84]]/ this[_$_f8b8[86]],this[_$_f8b8[85]]);ctx[_$_f8b8[81]]();ctx[_$_f8b8[90]]();ctx[_$_f8b8[83]]()};for(var i=0;i<= this[_$_f8b8[87]];i++){ctx[_$_f8b8[74]]();ctx[_$_f8b8[77]]();ctx[_$_f8b8[78]](0,i* this[_$_f8b8[85]]/ this[_$_f8b8[87]]);ctx[_$_f8b8[89]](this[_$_f8b8[84]],i* this[_$_f8b8[85]]/ this[_$_f8b8[87]]);ctx[_$_f8b8[81]]();ctx[_$_f8b8[90]]();ctx[_$_f8b8[83]]()}}};var DropCollection=function(){this[_$_f8b8[91]]= [];this[_$_f8b8[92]]= []};DropCollection[_$_f8b8[60]]= {process:function(){ctx[_$_f8b8[93]](0,0,canvas[_$_f8b8[30]],canvas[_$_f8b8[31]]);for(var i=0;i< this[_$_f8b8[91]][_$_f8b8[94]];i++){if(this[_$_f8b8[91]][i][_$_f8b8[54]]== 6){continue};this[_$_f8b8[91]][i][_$_f8b8[95]]()};for(var i=0;i< this[_$_f8b8[92]][_$_f8b8[94]];i++){if(this[_$_f8b8[92]][i][_$_f8b8[54]]== 6){continue};this[_$_f8b8[92]][i][_$_f8b8[95]]()}},add:function(o){this[_$_f8b8[91]][_$_f8b8[44]](o)},remove:function(o){for(var i=0;i< this[_$_f8b8[91]][_$_f8b8[94]];i++){if(this[_$_f8b8[91]][i]== o){this[_$_f8b8[91]][_$_f8b8[96]](i,1)}}},add_broken:function(o){this[_$_f8b8[92]][_$_f8b8[44]](o)},remove_broken:function(o){for(var i=0;i< this[_$_f8b8[92]][_$_f8b8[94]];i++){if(this[_$_f8b8[92]][i]== o){this[_$_f8b8[92]][_$_f8b8[96]](i,1)}}},fly:function(o){for(var i=0;i< this[_$_f8b8[92]][_$_f8b8[94]];i++){if(this[_$_f8b8[92]][i][_$_f8b8[54]]== 6){continue};if(this[_$_f8b8[97]](this[_$_f8b8[92]][i][_$_f8b8[52]],this[_$_f8b8[92]][i][_$_f8b8[53]])|| this[_$_f8b8[92]][i][_$_f8b8[52]]< -5|| this[_$_f8b8[92]][i][_$_f8b8[52]]> canvas[_$_f8b8[30]]+ 5|| this[_$_f8b8[92]][i][_$_f8b8[53]]> canvas[_$_f8b8[31]]+ 5|| this[_$_f8b8[92]][i][_$_f8b8[53]]<  -5){this[_$_f8b8[92]][i][_$_f8b8[54]]= 6;continue};switch(this[_$_f8b8[92]][i][_$_f8b8[55]]){case _$_f8b8[68]:this[_$_f8b8[92]][i][_$_f8b8[52]]--;break;case _$_f8b8[71]:this[_$_f8b8[92]][i][_$_f8b8[52]]++;break;case _$_f8b8[72]:this[_$_f8b8[92]][i][_$_f8b8[53]]++;break;case _$_f8b8[73]:this[_$_f8b8[92]][i][_$_f8b8[53]]--;break;default:break}}},isInto:function(m,n){var p=game[_$_f8b8[98]];var q=game[_$_f8b8[70]][_$_f8b8[91]];var i=Math[_$_f8b8[99]](m/ (p[_$_f8b8[84]]/ p[_$_f8b8[86]]));var k=Math[_$_f8b8[99]](n/ (p[_$_f8b8[85]]/ p[_$_f8b8[87]]));for(var r=0;r< q[_$_f8b8[94]];r++){if((q[r][_$_f8b8[52]]== (i* p[_$_f8b8[84]]/ p[_$_f8b8[86]]+ p[_$_f8b8[84]]/ p[_$_f8b8[86]]/ 2))&& (q[r][_$_f8b8[53]]== (k* p[_$_f8b8[85]]/ p[_$_f8b8[87]]+ p[_$_f8b8[85]]/ p[_$_f8b8[87]]/ 2))&& (q[r][_$_f8b8[54]]<= 4)){q[r][_$_f8b8[54]]++;if(q[r][_$_f8b8[54]]> 6){q[r][_$_f8b8[54]]= 6};return true}};return false}};var Game=function(){this[_$_f8b8[98]]= null;this[_$_f8b8[70]]= null;this[_$_f8b8[100]]= false;this[_$_f8b8[47]]= 1;this[_$_f8b8[101]]= false;this[_$_f8b8[102]]= 0;this[_$_f8b8[103]]= 0;this[_$_f8b8[104]]= null};Game[_$_f8b8[60]]= {init:function(){ctx[_$_f8b8[93]](0,0,canvas[_$_f8b8[30]],canvas[_$_f8b8[31]]);var p= new Board();p[_$_f8b8[105]]();this[_$_f8b8[98]]= p;var s= new DropCollection();for(var i=0;i< p[_$_f8b8[88]][_$_f8b8[94]];i++){var o= new Drop();o[_$_f8b8[54]]= getNumberInRange(1,4);o[_$_f8b8[52]]= p[_$_f8b8[88]][i][_$_f8b8[52]];o[_$_f8b8[53]]= p[_$_f8b8[88]][i][_$_f8b8[53]];s[_$_f8b8[106]](o)};leftDropSpan[_$_f8b8[107]]= leftDropArr[10];this[_$_f8b8[108]]();this[_$_f8b8[70]]= s;this[_$_f8b8[109]]();this[_$_f8b8[102]]=  new Date()[_$_f8b8[110]]()},clickSelect:function(){var t=this;var p=this[_$_f8b8[98]];canvas[_$_f8b8[11]]= function(u){u[_$_f8b8[1]]();if(this[_$_f8b8[101]]){return};if(leftDropNum== 0|| t[_$_f8b8[111]]()){alert(_$_f8b8[112]);return};t[_$_f8b8[100]]= true;var i=Math[_$_f8b8[99]](u[_$_f8b8[113]]/ (p[_$_f8b8[84]]/ p[_$_f8b8[86]]));var k=Math[_$_f8b8[99]](u[_$_f8b8[114]]/ (p[_$_f8b8[85]]/ p[_$_f8b8[87]]));var q=t[_$_f8b8[70]][_$_f8b8[91]];for(var r=0;r< q[_$_f8b8[94]];r++){if((q[r][_$_f8b8[52]]== (i* p[_$_f8b8[84]]/ p[_$_f8b8[86]]+ p[_$_f8b8[84]]/ p[_$_f8b8[86]]/ 2))&& (q[r][_$_f8b8[53]]== (k* p[_$_f8b8[85]]/ p[_$_f8b8[87]]+ p[_$_f8b8[85]]/ p[_$_f8b8[87]]/ 2))){if(q[r][_$_f8b8[54]]>= 5){continue};q[r][_$_f8b8[54]]++;leftDropNum--;leftDropSpan[_$_f8b8[107]]= leftDropArr[leftDropNum];t[_$_f8b8[70]][_$_f8b8[95]]()}}}},timeChange:function(){var t=this;if(this[_$_f8b8[100]]&& this[_$_f8b8[111]]()&& !this[_$_f8b8[101]]){info[_$_f8b8[107]]= _$_f8b8[115];this[_$_f8b8[101]]= true;setTimeout(function(){t[_$_f8b8[116]]();t[_$_f8b8[101]]= false},1000)};if(leftDropNum== 0&& !this[_$_f8b8[111]]()){info[_$_f8b8[107]]= _$_f8b8[117]};var t=this;setTimeout(function(){t[_$_f8b8[70]][_$_f8b8[118]]();t[_$_f8b8[70]][_$_f8b8[95]]();t[_$_f8b8[108]]()},4)},isGameOver:function(){var v=0;var q=this[_$_f8b8[70]][_$_f8b8[91]];for(var r=0;r< q[_$_f8b8[94]];r++){if(q[r][_$_f8b8[54]]== 6){v++}};if(v== q[_$_f8b8[94]]){return true}else {return false}},nextLevel:function(){this[_$_f8b8[47]]++;levelP[_$_f8b8[107]]= _$_f8b8[119]+ this[_$_f8b8[47]];if(this[_$_f8b8[47]]> +bestLevel[_$_f8b8[107]]){this[_$_f8b8[120]](this[_$_f8b8[47]])};if(this[_$_f8b8[47]]> +todayBest[_$_f8b8[107]]){this[_$_f8b8[120]](this[_$_f8b8[47]],_$_f8b8[121])};ctx[_$_f8b8[93]](0,0,canvas[_$_f8b8[30]],canvas[_$_f8b8[31]]);this[_$_f8b8[100]]= false;this[_$_f8b8[70]]= null;var p=this[_$_f8b8[98]];var s= new DropCollection();var v=0;for(var i=0;i< p[_$_f8b8[88]][_$_f8b8[94]];i++){var o= new Drop();o[_$_f8b8[54]]= getNumberInRange(1,4);v+= o[_$_f8b8[54]];o[_$_f8b8[52]]= p[_$_f8b8[88]][i][_$_f8b8[52]];o[_$_f8b8[53]]= p[_$_f8b8[88]][i][_$_f8b8[53]];s[_$_f8b8[106]](o)};var z;if(leftDropNum+ 7<= 20){z= 7}else {z= 20- leftDropNum};leftDropNum+= z;leftDropSpan[_$_f8b8[107]]= leftDropArr[leftDropNum];info[_$_f8b8[107]]= _$_f8b8[122]+ z+ _$_f8b8[123];this[_$_f8b8[70]]= s},setBest:function(I,B){var N=userData[_$_f8b8[104]]+ _$_f8b8[124];var H=I+ _$_f8b8[124];var G=H[_$_f8b8[94]];for(var i=0;i< 6- G;i++){H= _$_f8b8[125]+ H};var K= new Date()+ _$_f8b8[124];this[_$_f8b8[103]]=  new Date()[_$_f8b8[110]]();var M=this[_$_f8b8[103]]- this[_$_f8b8[102]];var A=Math[_$_f8b8[99]](M/ (24* 3600* 1000));var D=M% (24* 3600* 1000);var C=Math[_$_f8b8[99]](D/ (3600* 1000));var E=D% (3600* 1000);var J=Math[_$_f8b8[99]](E/ (60* 1000));var F=E% (60* 1000);var L=Math[_$_f8b8[126]](F/ 1000);if(B== _$_f8b8[121]){user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[135]]({level:I,UA:navigator[_$_f8b8[127]],time:A+ _$_f8b8[128]+ C+ _$_f8b8[129]+ J+ _$_f8b8[130]+ L+ _$_f8b8[131],img:userImg[_$_f8b8[132]],t:M,token:sjcl[_$_f8b8[133]](M+ _$_f8b8[124],I+ _$_f8b8[124]),rank:H+ _$_f8b8[134]+ (3000000000000- M),playTime:K+ _$_f8b8[124]});user_ref[_$_f8b8[23]](N)[_$_f8b8[135]]({todayRank:H+ _$_f8b8[134]+ (3000000000000- M)});todayBest[_$_f8b8[107]]= I;return};user_ref[_$_f8b8[23]](N)[_$_f8b8[135]]({level:I,UA:navigator[_$_f8b8[127]],time:A+ _$_f8b8[128]+ C+ _$_f8b8[129]+ J+ _$_f8b8[130]+ L+ _$_f8b8[131],t:M,token:sjcl[_$_f8b8[133]](M+ _$_f8b8[124],I+ _$_f8b8[124]),rank:H+ _$_f8b8[134]+ (3000000000000- M),playTime:K+ _$_f8b8[124],todayRank:H+ _$_f8b8[134]+ (3000000000000- M)});bestLevel[_$_f8b8[107]]= I}};restartBtn[_$_f8b8[11]]= function(){for(var i=0;i< 99999;i++){clearTimeout(i)};game= null;leftDropNum= 10;game=  new Game();game[_$_f8b8[105]]();levelP[_$_f8b8[107]]= _$_f8b8[119]+ 1};function getNumberInRange(Z,Y){var ba=Y- Z;var V=Math[_$_f8b8[136]]();return Math[_$_f8b8[126]](V* ba+ Z)}DUOSHUO[_$_f8b8[150]][_$_f8b8[149]](_$_f8b8[137],function(){var P=function(Q){if(Q[_$_f8b8[138]]== 0){userData= Q[_$_f8b8[139]];userImg[_$_f8b8[132]]= userData[_$_f8b8[140]];userNameP[_$_f8b8[107]]= userData[_$_f8b8[104]];game=  new Game();game[_$_f8b8[105]]();userBest();getRank();getTodayRank()}else {location[_$_f8b8[141]]= _$_f8b8[142]}};var O=function(Q){location[_$_f8b8[141]]= _$_f8b8[142]};DUOSHUO[_$_f8b8[148]][_$_f8b8[147]](_$_f8b8[143],_$_f8b8[144],{"user_id":this[_$_f8b8[146]][_$_f8b8[145]]},P,O)});function userBest(){user_ref[_$_f8b8[161]](_$_f8b8[151],function(bf){var N=userData[_$_f8b8[104]]+ _$_f8b8[124];var bf=bf[_$_f8b8[152]]();var K= new Date()+ _$_f8b8[124];if(bf[N]== undefined){bestLevel[_$_f8b8[107]]= 1;todayBest[_$_f8b8[107]]= 1;user_ref[_$_f8b8[23]](N)[_$_f8b8[153]]({name:N,level:1,UA:navigator[_$_f8b8[127]],time:0,t:0,img:userImg[_$_f8b8[132]],token:sjcl[_$_f8b8[133]](0+ _$_f8b8[124],1+ _$_f8b8[124]),rank:0,playTime:K+ _$_f8b8[124],id:userData[_$_f8b8[145]],today:1,todayRank:0});user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[153]]({level:1,UA:navigator[_$_f8b8[127]],time:0,t:0,token:sjcl[_$_f8b8[133]](0+ _$_f8b8[124],1+ _$_f8b8[124]),rank:0,playTime:K+ _$_f8b8[124]})}else {bestLevel[_$_f8b8[107]]= bf[N][_$_f8b8[47]];if(user_ref[_$_f8b8[23]](N)[_$_f8b8[121]]== 1){user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[153]]({level:1,UA:navigator[_$_f8b8[127]],time:0,t:0,token:sjcl[_$_f8b8[133]](0+ _$_f8b8[124],1+ _$_f8b8[124]),rank:0,playTime:K+ _$_f8b8[124]})}else {if((bf[N][_$_f8b8[121]]== undefined)&& ( new Date(bf[N][_$_f8b8[155]])[_$_f8b8[154]]()==  new Date(todayPlayTime)[_$_f8b8[154]]())){user_ref[_$_f8b8[23]](N)[_$_f8b8[135]]({todayRank:bf[N][_$_f8b8[156]]});user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[153]]({level:bf[N][_$_f8b8[47]],UA:bf[N][_$_f8b8[157]],time:bf[N][_$_f8b8[158]],t:bf[N][_$_f8b8[159]],token:bf[N][_$_f8b8[160]],rank:bf[N][_$_f8b8[156]],playTime:bf[N][_$_f8b8[155]]});todayBest[_$_f8b8[107]]= bf[N][_$_f8b8[121]][_$_f8b8[47]];return};if(bf[N][_$_f8b8[121]]== undefined){user_ref[_$_f8b8[23]](N)[_$_f8b8[153]]({level:bf[N][_$_f8b8[47]],UA:bf[N][_$_f8b8[157]],time:bf[N][_$_f8b8[158]],t:bf[N][_$_f8b8[159]],token:bf[N][_$_f8b8[160]],rank:bf[N][_$_f8b8[156]],playTime:bf[N][_$_f8b8[155]],todayRank:1});user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[153]]({level:1,UA:navigator[_$_f8b8[127]],time:0,t:0,token:sjcl[_$_f8b8[133]](0+ _$_f8b8[124],1+ _$_f8b8[124]),rank:0,playTime:K+ _$_f8b8[124]});return};pastPlayTime= bf[N][_$_f8b8[121]][_$_f8b8[155]];if( new Date(pastPlayTime)[_$_f8b8[154]]()!==  new Date(todayPlayTime)[_$_f8b8[154]]()){user_ref[_$_f8b8[23]](N)[_$_f8b8[23]](_$_f8b8[121])[_$_f8b8[135]]({level:1,UA:navigator[_$_f8b8[127]],time:0,t:0,token:sjcl[_$_f8b8[133]](0+ _$_f8b8[124],1+ _$_f8b8[124]),rank:0,playTime:K+ _$_f8b8[124]})}};todayBest[_$_f8b8[107]]= bf[N][_$_f8b8[121]][_$_f8b8[47]]}})}var todayRankHtml=_$_f8b8[124];var pastRankHtml=_$_f8b8[124];function getRank(){user_ref[_$_f8b8[173]](_$_f8b8[156])[_$_f8b8[172]](8)[_$_f8b8[149]](_$_f8b8[151],function(bd){var bc=[];var bb=8;bd[_$_f8b8[165]](function(bf){var be=bf[_$_f8b8[152]]();try{bc[_$_f8b8[163]]({img:be[_$_f8b8[162]],name:be[_$_f8b8[104]],level:be[_$_f8b8[47]]})}catch(err){console[_$_f8b8[164]](err)}});if(bc[_$_f8b8[94]]< 8){bb= bc[_$_f8b8[94]]};pastRankHtml= _$_f8b8[124];for(var i=0;i< bb;i++){if(bc[i][_$_f8b8[104]]== undefined|| bc[i][_$_f8b8[104]]== _$_f8b8[166]){bc[i][_$_f8b8[104]]= _$_f8b8[166]};pastRankHtml+= _$_f8b8[167]+ (i+ 1)+ _$_f8b8[168]+ bc[i][_$_f8b8[162]]+ _$_f8b8[169]+ bc[i][_$_f8b8[104]]+ _$_f8b8[170]+ bc[i][_$_f8b8[47]]+ _$_f8b8[171]}})}function getTodayRank(){user_ref[_$_f8b8[173]](_$_f8b8[174])[_$_f8b8[172]](100)[_$_f8b8[149]](_$_f8b8[151],function(bd){todayPlayTime=  new Date()+ _$_f8b8[124];var bc=[];var bb=8;var r=0;bd[_$_f8b8[165]](function(bf){var be=bf[_$_f8b8[152]]();try{if(be[_$_f8b8[155]]!== undefined&& be[_$_f8b8[121]]!== undefined){if( new Date(be[_$_f8b8[121]][_$_f8b8[155]])[_$_f8b8[154]]()==  new Date(todayPlayTime)[_$_f8b8[154]]()){bc[_$_f8b8[163]]({img:be[_$_f8b8[162]],name:be[_$_f8b8[104]],level:be[_$_f8b8[47]]});r++};if(r== 8){return}}}catch(err){console[_$_f8b8[164]](err)}});if(bc[_$_f8b8[94]]< 8){bb= bc[_$_f8b8[94]]};todayRankHtml= _$_f8b8[124];for(var i=0;i< bb;i++){if(bc[i][_$_f8b8[104]]== undefined|| bc[i][_$_f8b8[104]]== _$_f8b8[166]){bc[i][_$_f8b8[104]]= _$_f8b8[166]};todayRankHtml+= _$_f8b8[167]+ (i+ 1)+ _$_f8b8[168]+ bc[i][_$_f8b8[162]]+ _$_f8b8[169]+ bc[i][_$_f8b8[104]]+ _$_f8b8[170]+ bc[i][_$_f8b8[47]]+ _$_f8b8[171]};levelRank[_$_f8b8[107]]= todayRankHtml});loadBg[_$_f8b8[14]][_$_f8b8[106]](_$_f8b8[175])}var switchButton=document[_$_f8b8[7]](_$_f8b8[176]);var rankTitle=document[_$_f8b8[7]](_$_f8b8[177]);switchButton[_$_f8b8[11]]= function(){if(rankTitle[_$_f8b8[107]]== _$_f8b8[178]){levelRank[_$_f8b8[107]]= pastRankHtml;rankTitle[_$_f8b8[107]]= _$_f8b8[179];switchButton[_$_f8b8[107]]= _$_f8b8[180]}else {levelRank[_$_f8b8[107]]= todayRankHtml;rankTitle[_$_f8b8[107]]= _$_f8b8[178];switchButton[_$_f8b8[107]]= _$_f8b8[181]}}