var _$_ee7b=["touchmove","preventDefault","addEventListener","body","DOMContentLoaded","attach","menuButton","getElementById","sideBar","mask","onclick","open","toggle","classList","show","remove","ten-drop.wilddog.com","https://ten-drop.wilddogio.com","initializeApp","ref","sync","user","child","userImg","levelRank","userName","canvas","2d","getContext","width","height","leftDrop","NONE","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","push","info","restartBtn","level","bestLevel","todayBest","best","loadBg","x","y","generation","direction","colorArr","#43A6FF","#1BD369","#FF7575","prototype","chooseDraw","color","draw_1","draw_2","draw_3","draw_4","draw_5","left","add_broken","dropCollection","right","up","down","save","fillStyle","scale","beginPath","moveTo","PI","arc","closePath","fill","restore","w","h","hor","ver","boardArr","lineTo","stroke","dropArr","brokenArr","clearRect","length","process","splice","isInto","board","floor","gameStart","pause","startTime","endTime","name","init","add","innerHTML","timeChange","clickSelect","getTime","isGameOver","Game over!","offsetX","offsetY","You win! Try your best to go to next level!","nextLevel","You lose!","fly","Level ","setBest","today","Try your best! Give you another "," drop!","","0","round","userAgent","\u5929 ","\u5c0f\u65f6 "," \u5206\u949f"," \u79d2","src","encrypt","_","update","random","reset","code","response","avatar_url","href","https://bupt-hjm.github.io/ten-drop/","GET","users/profile","user_id","data","ajax","API","on","visitor","value","val","set","toDateString","playTime","rank","UA","time","t","token","once","img","unshift","log","forEach","<p><span class='user-rank'>","</span><img src=","><span class='user-rank-name'>","</span><span class='user-level'>level ","</span></p>","limitToLast","orderByChild","hide","todayRank","switch","rankTitle","\u4eca\u65e5\u5b9e\u65f6\u6392\u884c\u699c","\u5386\u53f2\u6392\u884c\u699c","\u4eca\u65e5","\u5386\u53f2"];document[_$_ee7b[3]][_$_ee7b[2]](_$_ee7b[0],function(a){a[_$_ee7b[1]]()},false);if(_$_ee7b[2] in  document){document[_$_ee7b[2]](_$_ee7b[4],function(){FastClick[_$_ee7b[5]](document[_$_ee7b[3]])},false)};var menuButton=document[_$_ee7b[7]](_$_ee7b[6]);var sideBar=document[_$_ee7b[7]](_$_ee7b[8]);var mask=document[_$_ee7b[7]](_$_ee7b[9]);menuButton[_$_ee7b[10]]= function(){sideBar[_$_ee7b[13]][_$_ee7b[12]](_$_ee7b[11]);mask[_$_ee7b[13]][_$_ee7b[12]](_$_ee7b[14])};mask[_$_ee7b[10]]= function(){sideBar[_$_ee7b[13]][_$_ee7b[15]](_$_ee7b[11]);mask[_$_ee7b[13]][_$_ee7b[15]](_$_ee7b[14])};var pastPlayTime;var todayPlayTime= new Date();var userData;var config={authDomain:_$_ee7b[16],syncURL:_$_ee7b[17]};var defApp=wilddog[_$_ee7b[18]](config);var ref=wilddog[_$_ee7b[20]]()[_$_ee7b[19]]();var user_ref=ref[_$_ee7b[22]](_$_ee7b[21]);var userImg=document[_$_ee7b[7]](_$_ee7b[23]);var levelRank=document[_$_ee7b[7]](_$_ee7b[24]);var userNameP=document[_$_ee7b[7]](_$_ee7b[25]);var canvas=document[_$_ee7b[7]](_$_ee7b[26]);var ctx=canvas[_$_ee7b[28]](_$_ee7b[27]);canvas[_$_ee7b[29]]= 600;canvas[_$_ee7b[30]]= 600;var w=canvas[_$_ee7b[29]];var h=canvas[_$_ee7b[30]];var leftDropNum=10;var leftDropSpan=document[_$_ee7b[7]](_$_ee7b[31]);var leftDropArr=[_$_ee7b[32],_$_ee7b[33],_$_ee7b[34],_$_ee7b[35],_$_ee7b[36],_$_ee7b[37],_$_ee7b[38],_$_ee7b[39],_$_ee7b[40],_$_ee7b[41],_$_ee7b[42]];for(var i=11;i< 100;i++){leftDropArr[_$_ee7b[43]](i)};var infoP=document[_$_ee7b[7]](_$_ee7b[44]);var restartBtn=document[_$_ee7b[7]](_$_ee7b[45]);var levelP=document[_$_ee7b[7]](_$_ee7b[46]);var bestLevel=document[_$_ee7b[7]](_$_ee7b[47]);var todayBest=document[_$_ee7b[7]](_$_ee7b[48]);var best=document[_$_ee7b[7]](_$_ee7b[49]);var loadBg=document[_$_ee7b[7]](_$_ee7b[50]);var game=null;var Drop=function(){this[_$_ee7b[51]]= w/ 2;this[_$_ee7b[52]]= h/ 2;this[_$_ee7b[53]]= 1;this[_$_ee7b[54]]= null;this[_$_ee7b[55]]= [_$_ee7b[56],_$_ee7b[57],_$_ee7b[58]]};Drop[_$_ee7b[59]]= {process:function(){this[_$_ee7b[60]]()},chooseDraw:function(){var b=(game[_$_ee7b[46]]- 1)% 3;this[_$_ee7b[61]]= this[_$_ee7b[55]][b];switch(this[_$_ee7b[53]]){case 1:this[_$_ee7b[62]]();break;case 2:this[_$_ee7b[63]]();break;case 3:this[_$_ee7b[64]]();break;case 4:this[_$_ee7b[65]]();break;case 5:this[_$_ee7b[66]]();break;default:break}},draw_1:function(){EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],15,20,this[_$_ee7b[61]])},draw_2:function(){EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],30,30,this[_$_ee7b[61]])},draw_3:function(){EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],45,35,this[_$_ee7b[61]])},draw_4:function(){EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],50,50,this[_$_ee7b[61]])},draw_5:function(){var c=this[_$_ee7b[51]];var d=this[_$_ee7b[52]];if(this[_$_ee7b[54]]== null){this[_$_ee7b[53]]= 6;EvenCompEllipse(ctx,this[_$_ee7b[51]]- 20,this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]]+ 20,this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]]- 20,10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]]+ 20,10,10,this[_$_ee7b[61]])}else {EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);EvenCompEllipse(ctx,this[_$_ee7b[51]],this[_$_ee7b[52]],10,10,this[_$_ee7b[61]]);return};var f= new Drop();f[_$_ee7b[51]]= c- 20;f[_$_ee7b[52]]= d;f[_$_ee7b[53]]= 5;f[_$_ee7b[54]]= _$_ee7b[67];game[_$_ee7b[69]][_$_ee7b[68]](f);var g= new Drop();g[_$_ee7b[51]]= c+ 20;g[_$_ee7b[52]]= d;g[_$_ee7b[53]]= 5;g[_$_ee7b[54]]= _$_ee7b[70];game[_$_ee7b[69]][_$_ee7b[68]](g);var j= new Drop();j[_$_ee7b[51]]= c;j[_$_ee7b[52]]= d+ 20;j[_$_ee7b[53]]= 5;j[_$_ee7b[54]]= _$_ee7b[71];game[_$_ee7b[69]][_$_ee7b[68]](j);var e= new Drop();e[_$_ee7b[51]]= c;e[_$_ee7b[52]]= d- 20;e[_$_ee7b[53]]= 5;e[_$_ee7b[54]]= _$_ee7b[72];game[_$_ee7b[69]][_$_ee7b[68]](e)}};function EvenCompEllipse(T,m,n,R,S,U){T[_$_ee7b[73]]();T[_$_ee7b[74]]= U;var V=(R> S)?R:S;var W=R/ V;var X=S/ V;T[_$_ee7b[75]](W,X);T[_$_ee7b[76]]();T[_$_ee7b[77]]((m+ R)/ W,n/ X);T[_$_ee7b[79]](m/ W,n/ X,V,0,2* Math[_$_ee7b[78]]);T[_$_ee7b[80]]();T[_$_ee7b[81]]();T[_$_ee7b[82]]()}var Board=function(){this[_$_ee7b[83]]= canvas[_$_ee7b[29]];this[_$_ee7b[84]]= canvas[_$_ee7b[30]];this[_$_ee7b[85]]= 6;this[_$_ee7b[86]]= 6;this[_$_ee7b[87]]= []};Board[_$_ee7b[59]]= {init:function(){for(var i=0;i< this[_$_ee7b[85]];i++){for(var k=0;k< this[_$_ee7b[86]];k++){var m=i* this[_$_ee7b[83]]/ this[_$_ee7b[85]]+ this[_$_ee7b[83]]/ this[_$_ee7b[85]]/ 2;var n=k* this[_$_ee7b[84]]/ this[_$_ee7b[86]]+ this[_$_ee7b[84]]/ this[_$_ee7b[86]]/ 2;var l={x:m,y:n};this[_$_ee7b[87]][_$_ee7b[43]](l)}}},draw:function(){for(var i=0;i<= this[_$_ee7b[85]];i++){ctx[_$_ee7b[73]]();ctx[_$_ee7b[76]]();ctx[_$_ee7b[77]](i* this[_$_ee7b[83]]/ this[_$_ee7b[85]],0);ctx[_$_ee7b[88]](i* this[_$_ee7b[83]]/ this[_$_ee7b[85]],this[_$_ee7b[84]]);ctx[_$_ee7b[80]]();ctx[_$_ee7b[89]]();ctx[_$_ee7b[82]]()};for(var i=0;i<= this[_$_ee7b[86]];i++){ctx[_$_ee7b[73]]();ctx[_$_ee7b[76]]();ctx[_$_ee7b[77]](0,i* this[_$_ee7b[84]]/ this[_$_ee7b[86]]);ctx[_$_ee7b[88]](this[_$_ee7b[83]],i* this[_$_ee7b[84]]/ this[_$_ee7b[86]]);ctx[_$_ee7b[80]]();ctx[_$_ee7b[89]]();ctx[_$_ee7b[82]]()}}};var DropCollection=function(){this[_$_ee7b[90]]= [];this[_$_ee7b[91]]= []};DropCollection[_$_ee7b[59]]= {process:function(){ctx[_$_ee7b[92]](0,0,canvas[_$_ee7b[29]],canvas[_$_ee7b[30]]);for(var i=0;i< this[_$_ee7b[90]][_$_ee7b[93]];i++){if(this[_$_ee7b[90]][i][_$_ee7b[53]]== 6){continue};this[_$_ee7b[90]][i][_$_ee7b[94]]()};for(var i=0;i< this[_$_ee7b[91]][_$_ee7b[93]];i++){if(this[_$_ee7b[91]][i][_$_ee7b[53]]== 6){continue};this[_$_ee7b[91]][i][_$_ee7b[94]]()}},add:function(o){this[_$_ee7b[90]][_$_ee7b[43]](o)},remove:function(o){for(var i=0;i< this[_$_ee7b[90]][_$_ee7b[93]];i++){if(this[_$_ee7b[90]][i]== o){this[_$_ee7b[90]][_$_ee7b[95]](i,1)}}},add_broken:function(o){this[_$_ee7b[91]][_$_ee7b[43]](o)},remove_broken:function(o){for(var i=0;i< this[_$_ee7b[91]][_$_ee7b[93]];i++){if(this[_$_ee7b[91]][i]== o){this[_$_ee7b[91]][_$_ee7b[95]](i,1)}}},fly:function(o){for(var i=0;i< this[_$_ee7b[91]][_$_ee7b[93]];i++){if(this[_$_ee7b[91]][i][_$_ee7b[53]]== 6){continue};if(this[_$_ee7b[96]](this[_$_ee7b[91]][i][_$_ee7b[51]],this[_$_ee7b[91]][i][_$_ee7b[52]])|| this[_$_ee7b[91]][i][_$_ee7b[51]]< -5|| this[_$_ee7b[91]][i][_$_ee7b[51]]> canvas[_$_ee7b[29]]+ 5|| this[_$_ee7b[91]][i][_$_ee7b[52]]> canvas[_$_ee7b[30]]+ 5|| this[_$_ee7b[91]][i][_$_ee7b[52]]<  -5){this[_$_ee7b[91]][i][_$_ee7b[53]]= 6;continue};switch(this[_$_ee7b[91]][i][_$_ee7b[54]]){case _$_ee7b[67]:this[_$_ee7b[91]][i][_$_ee7b[51]]--;break;case _$_ee7b[70]:this[_$_ee7b[91]][i][_$_ee7b[51]]++;break;case _$_ee7b[71]:this[_$_ee7b[91]][i][_$_ee7b[52]]++;break;case _$_ee7b[72]:this[_$_ee7b[91]][i][_$_ee7b[52]]--;break;default:break}}},isInto:function(m,n){var p=game[_$_ee7b[97]];var q=game[_$_ee7b[69]][_$_ee7b[90]];var i=Math[_$_ee7b[98]](m/ (p[_$_ee7b[83]]/ p[_$_ee7b[85]]));var k=Math[_$_ee7b[98]](n/ (p[_$_ee7b[84]]/ p[_$_ee7b[86]]));for(var r=0;r< q[_$_ee7b[93]];r++){if((q[r][_$_ee7b[51]]== (i* p[_$_ee7b[83]]/ p[_$_ee7b[85]]+ p[_$_ee7b[83]]/ p[_$_ee7b[85]]/ 2))&& (q[r][_$_ee7b[52]]== (k* p[_$_ee7b[84]]/ p[_$_ee7b[86]]+ p[_$_ee7b[84]]/ p[_$_ee7b[86]]/ 2))&& (q[r][_$_ee7b[53]]<= 4)){q[r][_$_ee7b[53]]++;if(q[r][_$_ee7b[53]]> 6){q[r][_$_ee7b[53]]= 6};return true}};return false}};var Game=function(){this[_$_ee7b[97]]= null;this[_$_ee7b[69]]= null;this[_$_ee7b[99]]= false;this[_$_ee7b[46]]= 1;this[_$_ee7b[100]]= false;this[_$_ee7b[101]]= 0;this[_$_ee7b[102]]= 0;this[_$_ee7b[103]]= null};Game[_$_ee7b[59]]= {init:function(){ctx[_$_ee7b[92]](0,0,canvas[_$_ee7b[29]],canvas[_$_ee7b[30]]);var p= new Board();p[_$_ee7b[104]]();this[_$_ee7b[97]]= p;var s= new DropCollection();for(var i=0;i< p[_$_ee7b[87]][_$_ee7b[93]];i++){var o= new Drop();o[_$_ee7b[53]]= getNumberInRange(1,4);o[_$_ee7b[51]]= p[_$_ee7b[87]][i][_$_ee7b[51]];o[_$_ee7b[52]]= p[_$_ee7b[87]][i][_$_ee7b[52]];s[_$_ee7b[105]](o)};leftDropSpan[_$_ee7b[106]]= leftDropArr[10];this[_$_ee7b[107]]();this[_$_ee7b[69]]= s;this[_$_ee7b[108]]();this[_$_ee7b[101]]=  new Date()[_$_ee7b[109]]()},clickSelect:function(){var t=this;var p=this[_$_ee7b[97]];canvas[_$_ee7b[10]]= function(u){u[_$_ee7b[1]]();if(this[_$_ee7b[100]]){return};if(leftDropNum== 0|| t[_$_ee7b[110]]()){alert(_$_ee7b[111]);return};t[_$_ee7b[99]]= true;var i=Math[_$_ee7b[98]](u[_$_ee7b[112]]/ (p[_$_ee7b[83]]/ p[_$_ee7b[85]]));var k=Math[_$_ee7b[98]](u[_$_ee7b[113]]/ (p[_$_ee7b[84]]/ p[_$_ee7b[86]]));var q=t[_$_ee7b[69]][_$_ee7b[90]];for(var r=0;r< q[_$_ee7b[93]];r++){if((q[r][_$_ee7b[51]]== (i* p[_$_ee7b[83]]/ p[_$_ee7b[85]]+ p[_$_ee7b[83]]/ p[_$_ee7b[85]]/ 2))&& (q[r][_$_ee7b[52]]== (k* p[_$_ee7b[84]]/ p[_$_ee7b[86]]+ p[_$_ee7b[84]]/ p[_$_ee7b[86]]/ 2))){if(q[r][_$_ee7b[53]]>= 5){continue};q[r][_$_ee7b[53]]++;leftDropNum--;leftDropSpan[_$_ee7b[106]]= leftDropArr[leftDropNum];t[_$_ee7b[69]][_$_ee7b[94]]()}}}},timeChange:function(){var t=this;if(this[_$_ee7b[99]]&& this[_$_ee7b[110]]()&& !this[_$_ee7b[100]]){info[_$_ee7b[106]]= _$_ee7b[114];this[_$_ee7b[100]]= true;setTimeout(function(){t[_$_ee7b[115]]();t[_$_ee7b[100]]= false},1000)};if(leftDropNum== 0&& !this[_$_ee7b[110]]()){info[_$_ee7b[106]]= _$_ee7b[116]};var t=this;setTimeout(function(){t[_$_ee7b[69]][_$_ee7b[117]]();t[_$_ee7b[69]][_$_ee7b[94]]();t[_$_ee7b[107]]()},4)},isGameOver:function(){var v=0;var q=this[_$_ee7b[69]][_$_ee7b[90]];for(var r=0;r< q[_$_ee7b[93]];r++){if(q[r][_$_ee7b[53]]== 6){v++}};if(v== q[_$_ee7b[93]]){return true}else {return false}},nextLevel:function(){this[_$_ee7b[46]]++;levelP[_$_ee7b[106]]= _$_ee7b[118]+ this[_$_ee7b[46]];if(this[_$_ee7b[46]]> +bestLevel[_$_ee7b[106]]){this[_$_ee7b[119]](this[_$_ee7b[46]])};if(this[_$_ee7b[46]]> +todayBest[_$_ee7b[106]]){this[_$_ee7b[119]](this[_$_ee7b[46]],_$_ee7b[120])};ctx[_$_ee7b[92]](0,0,canvas[_$_ee7b[29]],canvas[_$_ee7b[30]]);this[_$_ee7b[99]]= false;this[_$_ee7b[69]]= null;var p=this[_$_ee7b[97]];var s= new DropCollection();var v=0;for(var i=0;i< p[_$_ee7b[87]][_$_ee7b[93]];i++){var o= new Drop();o[_$_ee7b[53]]= getNumberInRange(1,4);v+= o[_$_ee7b[53]];o[_$_ee7b[51]]= p[_$_ee7b[87]][i][_$_ee7b[51]];o[_$_ee7b[52]]= p[_$_ee7b[87]][i][_$_ee7b[52]];s[_$_ee7b[105]](o)};var z;if(leftDropNum+ 7<= 20){z= 7}else {z= 20- leftDropNum};leftDropNum+= z;leftDropSpan[_$_ee7b[106]]= leftDropArr[leftDropNum];info[_$_ee7b[106]]= _$_ee7b[121]+ z+ _$_ee7b[122];this[_$_ee7b[69]]= s},setBest:function(I,B){var N=userData[_$_ee7b[103]]+ _$_ee7b[123];var H=I+ _$_ee7b[123];var G=H[_$_ee7b[93]];for(var i=0;i< 6- G;i++){H= _$_ee7b[124]+ H};var K= new Date()+ _$_ee7b[123];this[_$_ee7b[102]]=  new Date()[_$_ee7b[109]]();var M=this[_$_ee7b[102]]- this[_$_ee7b[101]];var A=Math[_$_ee7b[98]](M/ (24* 3600* 1000));var D=M% (24* 3600* 1000);var C=Math[_$_ee7b[98]](D/ (3600* 1000));var E=D% (3600* 1000);var J=Math[_$_ee7b[98]](E/ (60* 1000));var F=E% (60* 1000);var L=Math[_$_ee7b[125]](F/ 1000);if(B== _$_ee7b[120]){user_ref[_$_ee7b[22]](N)[_$_ee7b[22]](_$_ee7b[120])[_$_ee7b[134]]({level:I,UA:navigator[_$_ee7b[126]],time:A+ _$_ee7b[127]+ C+ _$_ee7b[128]+ J+ _$_ee7b[129]+ L+ _$_ee7b[130],img:userImg[_$_ee7b[131]],t:M,token:sjcl[_$_ee7b[132]](M+ _$_ee7b[123],I+ _$_ee7b[123]),rank:H+ _$_ee7b[133]+ (3000000000000- M),playTime:K+ _$_ee7b[123]});user_ref[_$_ee7b[22]](N)[_$_ee7b[134]]({todayRank:H+ _$_ee7b[133]+ (3000000000000- M)});todayBest[_$_ee7b[106]]= I;return};user_ref[_$_ee7b[22]](N)[_$_ee7b[134]]({level:I,UA:navigator[_$_ee7b[126]],time:A+ _$_ee7b[127]+ C+ _$_ee7b[128]+ J+ _$_ee7b[129]+ L+ _$_ee7b[130],t:M,token:sjcl[_$_ee7b[132]](M+ _$_ee7b[123],I+ _$_ee7b[123]),rank:H+ _$_ee7b[133]+ (3000000000000- M),playTime:K+ _$_ee7b[123],todayRank:H+ _$_ee7b[133]+ (3000000000000- M)});bestLevel[_$_ee7b[106]]= I}};restartBtn[_$_ee7b[10]]= function(){for(var i=0;i< 99999;i++){clearTimeout(i)};game= null;leftDropNum= 10;game=  new Game();game[_$_ee7b[104]]()};function getNumberInRange(Z,Y){var ba=Y- Z;var V=Math[_$_ee7b[135]]();return Math[_$_ee7b[125]](V* ba+ Z)}DUOSHUO[_$_ee7b[149]][_$_ee7b[148]](_$_ee7b[136],function(){var P=function(Q){if(Q[_$_ee7b[137]]== 0){userData= Q[_$_ee7b[138]];userImg[_$_ee7b[131]]= userData[_$_ee7b[139]];userNameP[_$_ee7b[106]]= userData[_$_ee7b[103]];game=  new Game();game[_$_ee7b[104]]();userBest();getRank();getTodayRank()}else {location[_$_ee7b[140]]= _$_ee7b[141]}};var O=function(Q){location[_$_ee7b[140]]= _$_ee7b[141]};DUOSHUO[_$_ee7b[147]][_$_ee7b[146]](_$_ee7b[142],_$_ee7b[143],{"user_id":this[_$_ee7b[145]][_$_ee7b[144]]},P,O)});function userBest(){user_ref[_$_ee7b[160]](_$_ee7b[150],function(bf){var N=userData[_$_ee7b[103]]+ _$_ee7b[123];var bf=bf[_$_ee7b[151]]();var K= new Date()+ _$_ee7b[123];if(bf[N]== undefined){bestLevel[_$_ee7b[106]]= 1;todayBest[_$_ee7b[106]]= 1;user_ref[_$_ee7b[22]](N)[_$_ee7b[152]]({name:N,level:1,UA:navigator[_$_ee7b[126]],time:0,t:0,img:userImg[_$_ee7b[131]],token:sjcl[_$_ee7b[132]](0+ _$_ee7b[123],1+ _$_ee7b[123]),rank:0,playTime:K+ _$_ee7b[123],id:userData[_$_ee7b[144]],today:1,todayRank:0})}else {bestLevel[_$_ee7b[106]]= bf[N][_$_ee7b[46]];if(user_ref[_$_ee7b[22]](N)[_$_ee7b[120]]== 1){user_ref[_$_ee7b[22]](N)[_$_ee7b[22]](_$_ee7b[120])[_$_ee7b[152]]({level:1,UA:navigator[_$_ee7b[126]],time:0,t:0,token:sjcl[_$_ee7b[132]](0+ _$_ee7b[123],1+ _$_ee7b[123]),rank:0,playTime:K+ _$_ee7b[123]})}else {if((bf[N][_$_ee7b[120]]== undefined)&& ( new Date(bf[N][_$_ee7b[154]])[_$_ee7b[153]]()==  new Date(todayPlayTime)[_$_ee7b[153]]())){user_ref[_$_ee7b[22]](N)[_$_ee7b[134]]({todayRank:bf[N][_$_ee7b[155]]});user_ref[_$_ee7b[22]](N)[_$_ee7b[22]](_$_ee7b[120])[_$_ee7b[152]]({level:bf[N][_$_ee7b[46]],UA:bf[N][_$_ee7b[156]],time:bf[N][_$_ee7b[157]],t:bf[N][_$_ee7b[158]],token:bf[N][_$_ee7b[159]],rank:bf[N][_$_ee7b[155]],playTime:bf[N][_$_ee7b[154]]});todayBest[_$_ee7b[106]]= bf[N][_$_ee7b[120]][_$_ee7b[46]];return};if(bf[N][_$_ee7b[120]]== undefined){user_ref[_$_ee7b[22]](N)[_$_ee7b[22]](_$_ee7b[120])[_$_ee7b[152]]({level:1,UA:navigator[_$_ee7b[126]],time:0,t:0,token:sjcl[_$_ee7b[132]](0+ _$_ee7b[123],1+ _$_ee7b[123]),rank:0,playTime:K+ _$_ee7b[123]});return};pastPlayTime= bf[N][_$_ee7b[120]][_$_ee7b[154]];if( new Date(pastPlayTime)[_$_ee7b[153]]()!==  new Date(todayPlayTime)[_$_ee7b[153]]()){user_ref[_$_ee7b[22]](N)[_$_ee7b[22]](_$_ee7b[120])[_$_ee7b[134]]({level:1,UA:navigator[_$_ee7b[126]],time:0,t:0,token:sjcl[_$_ee7b[132]](0+ _$_ee7b[123],1+ _$_ee7b[123]),rank:0,playTime:K+ _$_ee7b[123]})}};todayBest[_$_ee7b[106]]= bf[N][_$_ee7b[120]][_$_ee7b[46]]}})}var todayRankHtml=_$_ee7b[123];var pastRankHtml=_$_ee7b[123];function getRank(){user_ref[_$_ee7b[171]](_$_ee7b[155])[_$_ee7b[170]](8)[_$_ee7b[148]](_$_ee7b[150],function(bd){var bc=[];var bb=8;bd[_$_ee7b[164]](function(bf){var be=bf[_$_ee7b[151]]();try{bc[_$_ee7b[162]]({img:be[_$_ee7b[161]],name:be[_$_ee7b[103]],level:be[_$_ee7b[46]]})}catch(err){console[_$_ee7b[163]](err)}});if(bc[_$_ee7b[93]]< 8){bb= bc[_$_ee7b[93]]};pastRankHtml= _$_ee7b[123];for(var i=0;i< bb;i++){pastRankHtml+= _$_ee7b[165]+ (i+ 1)+ _$_ee7b[166]+ bc[i][_$_ee7b[161]]+ _$_ee7b[167]+ bc[i][_$_ee7b[103]]+ _$_ee7b[168]+ bc[i][_$_ee7b[46]]+ _$_ee7b[169]}})}function getTodayRank(){user_ref[_$_ee7b[171]](_$_ee7b[173])[_$_ee7b[170]](100)[_$_ee7b[148]](_$_ee7b[150],function(bd){todayPlayTime=  new Date()+ _$_ee7b[123];var bc=[];var bb=8;var r=0;bd[_$_ee7b[164]](function(bf){var be=bf[_$_ee7b[151]]();try{if(be[_$_ee7b[154]]!== undefined){if( new Date(be[_$_ee7b[154]])[_$_ee7b[153]]()==  new Date(todayPlayTime)[_$_ee7b[153]]()){bc[_$_ee7b[162]]({img:be[_$_ee7b[161]],name:be[_$_ee7b[103]],level:be[_$_ee7b[46]]});r++};if(r== 8){return}}}catch(err){console[_$_ee7b[163]](err)}});if(bc[_$_ee7b[93]]< 8){bb= bc[_$_ee7b[93]]};console[_$_ee7b[163]](bb);todayRankHtml= _$_ee7b[123];for(var i=0;i< bb;i++){todayRankHtml+= _$_ee7b[165]+ (i+ 1)+ _$_ee7b[166]+ bc[i][_$_ee7b[161]]+ _$_ee7b[167]+ bc[i][_$_ee7b[103]]+ _$_ee7b[168]+ bc[i][_$_ee7b[46]]+ _$_ee7b[169]};levelRank[_$_ee7b[106]]= todayRankHtml;loadBg[_$_ee7b[13]][_$_ee7b[105]](_$_ee7b[172])})}var switchButton=document[_$_ee7b[7]](_$_ee7b[174]);var rankTitle=document[_$_ee7b[7]](_$_ee7b[175]);switchButton[_$_ee7b[10]]= function(){if(rankTitle[_$_ee7b[106]]== _$_ee7b[176]){levelRank[_$_ee7b[106]]= pastRankHtml;rankTitle[_$_ee7b[106]]= _$_ee7b[177];switchButton[_$_ee7b[106]]= _$_ee7b[178]}else {levelRank[_$_ee7b[106]]= todayRankHtml;rankTitle[_$_ee7b[106]]= _$_ee7b[176];switchButton[_$_ee7b[106]]= _$_ee7b[179]}}