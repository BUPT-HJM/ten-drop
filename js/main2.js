var _$_9c67=["touchmove","preventDefault","addEventListener","body","DOMContentLoaded","attach","menuButton","getElementById","sideBar","mask","loading","onclick","open","toggle","classList","show","remove","ten-drop.wilddog.com","https://ten-drop.wilddogio.com","initializeApp","ref","sync","user","child","userImg","levelRank","userName","canvas","2d","getContext","width","height","leftDrop","NONE","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","push","info","restartBtn","level","bestLevel","todayBest","best","loadBg","x","y","generation","direction","colorArr","#43A6FF","#1BD369","#FF7575","prototype","chooseDraw","color","draw_1","draw_2","draw_3","draw_4","draw_5","left","add_broken","dropCollection","right","up","down","save","fillStyle","scale","beginPath","moveTo","PI","arc","closePath","fill","restore","w","h","hor","ver","boardArr","lineTo","stroke","dropArr","brokenArr","clearRect","length","process","splice","isInto","board","floor","gameStart","pause","startTime","endTime","name","init","add","innerHTML","timeChange","clickSelect","getTime","isGameOver","Game over!","offsetX","offsetY","You win! Try your best to go to next level!","nextLevel","You lose!","fly","Level ","hide","setBest","today","Try your best! Give you another "," drop!","\u6b63\u5728\u4e0a\u4f20\u4f60\u7684\u6700\u9ad8\u7eaa\u5f55\u4e2d...","","0","round","userAgent","\u5929 ","\u5c0f\u65f6 "," \u5206\u949f"," \u79d2","src","encrypt","_","update","random","reset","code","response","avatar_url","href","https://bupt-hjm.github.io/ten-drop/","GET","users/profile","user_id","data","ajax","API","on","visitor","value","val","set","toDateString","playTime","rank","UA","time","t","token","once","img","unshift","log","forEach","<p><span class='user-rank'>","</span><img src=","><span class='user-rank-name'>","</span><span class='user-level'>level ","</span></p>","limitToLast","orderByChild","todayRank","switch","rankTitle","\u4eca\u65e5\u5b9e\u65f6\u6392\u884c\u699c","\u5386\u53f2\u6392\u884c\u699c","\u4eca\u65e5","\u5386\u53f2"];document[_$_9c67[3]][_$_9c67[2]](_$_9c67[0],function(a){a[_$_9c67[1]]()},false);if(_$_9c67[2] in  document){document[_$_9c67[2]](_$_9c67[4],function(){FastClick[_$_9c67[5]](document[_$_9c67[3]])},false)};var menuButton=document[_$_9c67[7]](_$_9c67[6]);var sideBar=document[_$_9c67[7]](_$_9c67[8]);var mask=document[_$_9c67[7]](_$_9c67[9]);var loading=document[_$_9c67[7]](_$_9c67[10]);menuButton[_$_9c67[11]]= function(){sideBar[_$_9c67[14]][_$_9c67[13]](_$_9c67[12]);mask[_$_9c67[14]][_$_9c67[13]](_$_9c67[15])};mask[_$_9c67[11]]= function(){sideBar[_$_9c67[14]][_$_9c67[16]](_$_9c67[12]);mask[_$_9c67[14]][_$_9c67[16]](_$_9c67[15])};var pastPlayTime;var todayPlayTime= new Date();var userData;var config={authDomain:_$_9c67[17],syncURL:_$_9c67[18]};var defApp=wilddog[_$_9c67[19]](config);var ref=wilddog[_$_9c67[21]]()[_$_9c67[20]]();var user_ref=ref[_$_9c67[23]](_$_9c67[22]);var userImg=document[_$_9c67[7]](_$_9c67[24]);var levelRank=document[_$_9c67[7]](_$_9c67[25]);var userNameP=document[_$_9c67[7]](_$_9c67[26]);var canvas=document[_$_9c67[7]](_$_9c67[27]);var ctx=canvas[_$_9c67[29]](_$_9c67[28]);canvas[_$_9c67[30]]= 600;canvas[_$_9c67[31]]= 600;var w=canvas[_$_9c67[30]];var h=canvas[_$_9c67[31]];var leftDropNum=10;var leftDropSpan=document[_$_9c67[7]](_$_9c67[32]);var leftDropArr=[_$_9c67[33],_$_9c67[34],_$_9c67[35],_$_9c67[36],_$_9c67[37],_$_9c67[38],_$_9c67[39],_$_9c67[40],_$_9c67[41],_$_9c67[42],_$_9c67[43]];for(var i=11;i< 100;i++){leftDropArr[_$_9c67[44]](i)};var infoP=document[_$_9c67[7]](_$_9c67[45]);var restartBtn=document[_$_9c67[7]](_$_9c67[46]);var levelP=document[_$_9c67[7]](_$_9c67[47]);var bestLevel=document[_$_9c67[7]](_$_9c67[48]);var todayBest=document[_$_9c67[7]](_$_9c67[49]);var best=document[_$_9c67[7]](_$_9c67[50]);var loadBg=document[_$_9c67[7]](_$_9c67[51]);var game=null;var Drop=function(){this[_$_9c67[52]]= w/ 2;this[_$_9c67[53]]= h/ 2;this[_$_9c67[54]]= 1;this[_$_9c67[55]]= null;this[_$_9c67[56]]= [_$_9c67[57],_$_9c67[58],_$_9c67[59]]};Drop[_$_9c67[60]]= {process:function(){this[_$_9c67[61]]()},chooseDraw:function(){var b=(game[_$_9c67[47]]- 1)% 3;this[_$_9c67[62]]= this[_$_9c67[56]][b];switch(this[_$_9c67[54]]){case 1:this[_$_9c67[63]]();break;case 2:this[_$_9c67[64]]();break;case 3:this[_$_9c67[65]]();break;case 4:this[_$_9c67[66]]();break;case 5:this[_$_9c67[67]]();break;default:break}},draw_1:function(){EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],15,20,this[_$_9c67[62]])},draw_2:function(){EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],30,30,this[_$_9c67[62]])},draw_3:function(){EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],45,35,this[_$_9c67[62]])},draw_4:function(){EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],50,50,this[_$_9c67[62]])},draw_5:function(){var c=this[_$_9c67[52]];var d=this[_$_9c67[53]];if(this[_$_9c67[55]]== null){this[_$_9c67[54]]= 6;EvenCompEllipse(ctx,this[_$_9c67[52]]- 20,this[_$_9c67[53]],10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]]+ 20,this[_$_9c67[53]],10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]]- 20,10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]]+ 20,10,10,this[_$_9c67[62]])}else {EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],10,10,this[_$_9c67[62]]);EvenCompEllipse(ctx,this[_$_9c67[52]],this[_$_9c67[53]],10,10,this[_$_9c67[62]]);return};var f= new Drop();f[_$_9c67[52]]= c- 20;f[_$_9c67[53]]= d;f[_$_9c67[54]]= 5;f[_$_9c67[55]]= _$_9c67[68];game[_$_9c67[70]][_$_9c67[69]](f);var g= new Drop();g[_$_9c67[52]]= c+ 20;g[_$_9c67[53]]= d;g[_$_9c67[54]]= 5;g[_$_9c67[55]]= _$_9c67[71];game[_$_9c67[70]][_$_9c67[69]](g);var j= new Drop();j[_$_9c67[52]]= c;j[_$_9c67[53]]= d+ 20;j[_$_9c67[54]]= 5;j[_$_9c67[55]]= _$_9c67[72];game[_$_9c67[70]][_$_9c67[69]](j);var e= new Drop();e[_$_9c67[52]]= c;e[_$_9c67[53]]= d- 20;e[_$_9c67[54]]= 5;e[_$_9c67[55]]= _$_9c67[73];game[_$_9c67[70]][_$_9c67[69]](e)}};function EvenCompEllipse(T,m,n,R,S,U){T[_$_9c67[74]]();T[_$_9c67[75]]= U;var V=(R> S)?R:S;var W=R/ V;var X=S/ V;T[_$_9c67[76]](W,X);T[_$_9c67[77]]();T[_$_9c67[78]]((m+ R)/ W,n/ X);T[_$_9c67[80]](m/ W,n/ X,V,0,2* Math[_$_9c67[79]]);T[_$_9c67[81]]();T[_$_9c67[82]]();T[_$_9c67[83]]()}var Board=function(){this[_$_9c67[84]]= canvas[_$_9c67[30]];this[_$_9c67[85]]= canvas[_$_9c67[31]];this[_$_9c67[86]]= 6;this[_$_9c67[87]]= 6;this[_$_9c67[88]]= []};Board[_$_9c67[60]]= {init:function(){for(var i=0;i< this[_$_9c67[86]];i++){for(var k=0;k< this[_$_9c67[87]];k++){var m=i* this[_$_9c67[84]]/ this[_$_9c67[86]]+ this[_$_9c67[84]]/ this[_$_9c67[86]]/ 2;var n=k* this[_$_9c67[85]]/ this[_$_9c67[87]]+ this[_$_9c67[85]]/ this[_$_9c67[87]]/ 2;var l={x:m,y:n};this[_$_9c67[88]][_$_9c67[44]](l)}}},draw:function(){for(var i=0;i<= this[_$_9c67[86]];i++){ctx[_$_9c67[74]]();ctx[_$_9c67[77]]();ctx[_$_9c67[78]](i* this[_$_9c67[84]]/ this[_$_9c67[86]],0);ctx[_$_9c67[89]](i* this[_$_9c67[84]]/ this[_$_9c67[86]],this[_$_9c67[85]]);ctx[_$_9c67[81]]();ctx[_$_9c67[90]]();ctx[_$_9c67[83]]()};for(var i=0;i<= this[_$_9c67[87]];i++){ctx[_$_9c67[74]]();ctx[_$_9c67[77]]();ctx[_$_9c67[78]](0,i* this[_$_9c67[85]]/ this[_$_9c67[87]]);ctx[_$_9c67[89]](this[_$_9c67[84]],i* this[_$_9c67[85]]/ this[_$_9c67[87]]);ctx[_$_9c67[81]]();ctx[_$_9c67[90]]();ctx[_$_9c67[83]]()}}};var DropCollection=function(){this[_$_9c67[91]]= [];this[_$_9c67[92]]= []};DropCollection[_$_9c67[60]]= {process:function(){ctx[_$_9c67[93]](0,0,canvas[_$_9c67[30]],canvas[_$_9c67[31]]);for(var i=0;i< this[_$_9c67[91]][_$_9c67[94]];i++){if(this[_$_9c67[91]][i][_$_9c67[54]]== 6){continue};this[_$_9c67[91]][i][_$_9c67[95]]()};for(var i=0;i< this[_$_9c67[92]][_$_9c67[94]];i++){if(this[_$_9c67[92]][i][_$_9c67[54]]== 6){continue};this[_$_9c67[92]][i][_$_9c67[95]]()}},add:function(o){this[_$_9c67[91]][_$_9c67[44]](o)},remove:function(o){for(var i=0;i< this[_$_9c67[91]][_$_9c67[94]];i++){if(this[_$_9c67[91]][i]== o){this[_$_9c67[91]][_$_9c67[96]](i,1)}}},add_broken:function(o){this[_$_9c67[92]][_$_9c67[44]](o)},remove_broken:function(o){for(var i=0;i< this[_$_9c67[92]][_$_9c67[94]];i++){if(this[_$_9c67[92]][i]== o){this[_$_9c67[92]][_$_9c67[96]](i,1)}}},fly:function(o){for(var i=0;i< this[_$_9c67[92]][_$_9c67[94]];i++){if(this[_$_9c67[92]][i][_$_9c67[54]]== 6){continue};if(this[_$_9c67[97]](this[_$_9c67[92]][i][_$_9c67[52]],this[_$_9c67[92]][i][_$_9c67[53]])|| this[_$_9c67[92]][i][_$_9c67[52]]< -5|| this[_$_9c67[92]][i][_$_9c67[52]]> canvas[_$_9c67[30]]+ 5|| this[_$_9c67[92]][i][_$_9c67[53]]> canvas[_$_9c67[31]]+ 5|| this[_$_9c67[92]][i][_$_9c67[53]]<  -5){this[_$_9c67[92]][i][_$_9c67[54]]= 6;continue};switch(this[_$_9c67[92]][i][_$_9c67[55]]){case _$_9c67[68]:this[_$_9c67[92]][i][_$_9c67[52]]--;break;case _$_9c67[71]:this[_$_9c67[92]][i][_$_9c67[52]]++;break;case _$_9c67[72]:this[_$_9c67[92]][i][_$_9c67[53]]++;break;case _$_9c67[73]:this[_$_9c67[92]][i][_$_9c67[53]]--;break;default:break}}},isInto:function(m,n){var p=game[_$_9c67[98]];var q=game[_$_9c67[70]][_$_9c67[91]];var i=Math[_$_9c67[99]](m/ (p[_$_9c67[84]]/ p[_$_9c67[86]]));var k=Math[_$_9c67[99]](n/ (p[_$_9c67[85]]/ p[_$_9c67[87]]));for(var r=0;r< q[_$_9c67[94]];r++){if((q[r][_$_9c67[52]]== (i* p[_$_9c67[84]]/ p[_$_9c67[86]]+ p[_$_9c67[84]]/ p[_$_9c67[86]]/ 2))&& (q[r][_$_9c67[53]]== (k* p[_$_9c67[85]]/ p[_$_9c67[87]]+ p[_$_9c67[85]]/ p[_$_9c67[87]]/ 2))&& (q[r][_$_9c67[54]]<= 4)){q[r][_$_9c67[54]]++;if(q[r][_$_9c67[54]]> 6){q[r][_$_9c67[54]]= 6};return true}};return false}};var Game=function(){this[_$_9c67[98]]= null;this[_$_9c67[70]]= null;this[_$_9c67[100]]= false;this[_$_9c67[47]]= 1;this[_$_9c67[101]]= false;this[_$_9c67[102]]= 0;this[_$_9c67[103]]= 0;this[_$_9c67[104]]= null};Game[_$_9c67[60]]= {init:function(){ctx[_$_9c67[93]](0,0,canvas[_$_9c67[30]],canvas[_$_9c67[31]]);var p= new Board();p[_$_9c67[105]]();this[_$_9c67[98]]= p;var s= new DropCollection();for(var i=0;i< p[_$_9c67[88]][_$_9c67[94]];i++){var o= new Drop();o[_$_9c67[54]]= getNumberInRange(1,4);o[_$_9c67[52]]= p[_$_9c67[88]][i][_$_9c67[52]];o[_$_9c67[53]]= p[_$_9c67[88]][i][_$_9c67[53]];s[_$_9c67[106]](o)};leftDropSpan[_$_9c67[107]]= leftDropArr[10];this[_$_9c67[108]]();this[_$_9c67[70]]= s;this[_$_9c67[109]]();this[_$_9c67[102]]=  new Date()[_$_9c67[110]]()},clickSelect:function(){var t=this;var p=this[_$_9c67[98]];canvas[_$_9c67[11]]= function(u){u[_$_9c67[1]]();if(this[_$_9c67[101]]){return};if(leftDropNum== 0|| t[_$_9c67[111]]()){alert(_$_9c67[112]);return};t[_$_9c67[100]]= true;var i=Math[_$_9c67[99]](u[_$_9c67[113]]/ (p[_$_9c67[84]]/ p[_$_9c67[86]]));var k=Math[_$_9c67[99]](u[_$_9c67[114]]/ (p[_$_9c67[85]]/ p[_$_9c67[87]]));var q=t[_$_9c67[70]][_$_9c67[91]];for(var r=0;r< q[_$_9c67[94]];r++){if((q[r][_$_9c67[52]]== (i* p[_$_9c67[84]]/ p[_$_9c67[86]]+ p[_$_9c67[84]]/ p[_$_9c67[86]]/ 2))&& (q[r][_$_9c67[53]]== (k* p[_$_9c67[85]]/ p[_$_9c67[87]]+ p[_$_9c67[85]]/ p[_$_9c67[87]]/ 2))){if(q[r][_$_9c67[54]]>= 5){continue};q[r][_$_9c67[54]]++;leftDropNum--;leftDropSpan[_$_9c67[107]]= leftDropArr[leftDropNum];t[_$_9c67[70]][_$_9c67[95]]()}}}},timeChange:function(){var t=this;if(this[_$_9c67[100]]&& this[_$_9c67[111]]()&& !this[_$_9c67[101]]){info[_$_9c67[107]]= _$_9c67[115];this[_$_9c67[101]]= true;setTimeout(function(){t[_$_9c67[116]]();t[_$_9c67[101]]= false},1000)};if(leftDropNum== 0&& !this[_$_9c67[111]]()){info[_$_9c67[107]]= _$_9c67[117]};var t=this;setTimeout(function(){t[_$_9c67[70]][_$_9c67[118]]();t[_$_9c67[70]][_$_9c67[95]]();t[_$_9c67[108]]()},4)},isGameOver:function(){var v=0;var q=this[_$_9c67[70]][_$_9c67[91]];for(var r=0;r< q[_$_9c67[94]];r++){if(q[r][_$_9c67[54]]== 6){v++}};if(v== q[_$_9c67[94]]){return true}else {return false}},nextLevel:function(){this[_$_9c67[47]]++;levelP[_$_9c67[107]]= _$_9c67[119]+ this[_$_9c67[47]];if(this[_$_9c67[47]]> +bestLevel[_$_9c67[107]]){loadBg[_$_9c67[14]][_$_9c67[16]](_$_9c67[120]);this[_$_9c67[121]](this[_$_9c67[47]])};if(this[_$_9c67[47]]> +todayBest[_$_9c67[107]]){this[_$_9c67[121]](this[_$_9c67[47]],_$_9c67[122])};ctx[_$_9c67[93]](0,0,canvas[_$_9c67[30]],canvas[_$_9c67[31]]);this[_$_9c67[100]]= false;this[_$_9c67[70]]= null;var p=this[_$_9c67[98]];var s= new DropCollection();var v=0;for(var i=0;i< p[_$_9c67[88]][_$_9c67[94]];i++){var o= new Drop();o[_$_9c67[54]]= getNumberInRange(1,4);v+= o[_$_9c67[54]];o[_$_9c67[52]]= p[_$_9c67[88]][i][_$_9c67[52]];o[_$_9c67[53]]= p[_$_9c67[88]][i][_$_9c67[53]];s[_$_9c67[106]](o)};var z;if(leftDropNum+ 7<= 20){z= 7}else {z= 20- leftDropNum};leftDropNum+= z;leftDropSpan[_$_9c67[107]]= leftDropArr[leftDropNum];info[_$_9c67[107]]= _$_9c67[123]+ z+ _$_9c67[124];this[_$_9c67[70]]= s},setBest:function(I,B){loadBg[_$_9c67[14]][_$_9c67[16]](_$_9c67[120]);loading[_$_9c67[107]]= _$_9c67[125];var N=userData[_$_9c67[104]]+ _$_9c67[126];var H=I+ _$_9c67[126];var G=H[_$_9c67[94]];for(var i=0;i< 6- G;i++){H= _$_9c67[127]+ H};var K= new Date()+ _$_9c67[126];this[_$_9c67[103]]=  new Date()[_$_9c67[110]]();var M=this[_$_9c67[103]]- this[_$_9c67[102]];var A=Math[_$_9c67[99]](M/ (24* 3600* 1000));var D=M% (24* 3600* 1000);var C=Math[_$_9c67[99]](D/ (3600* 1000));var E=D% (3600* 1000);var J=Math[_$_9c67[99]](E/ (60* 1000));var F=E% (60* 1000);var L=Math[_$_9c67[128]](F/ 1000);if(B== _$_9c67[122]){user_ref[_$_9c67[23]](N)[_$_9c67[23]](_$_9c67[122])[_$_9c67[137]]({level:I,UA:navigator[_$_9c67[129]],time:A+ _$_9c67[130]+ C+ _$_9c67[131]+ J+ _$_9c67[132]+ L+ _$_9c67[133],img:userImg[_$_9c67[134]],t:M,token:sjcl[_$_9c67[135]](M+ _$_9c67[126],I+ _$_9c67[126]),rank:H+ _$_9c67[136]+ (3000000000000- M),playTime:K+ _$_9c67[126]});user_ref[_$_9c67[23]](N)[_$_9c67[137]]({todayRank:H+ _$_9c67[136]+ (3000000000000- M)});todayBest[_$_9c67[107]]= I;return};user_ref[_$_9c67[23]](N)[_$_9c67[137]]({level:I,UA:navigator[_$_9c67[129]],time:A+ _$_9c67[130]+ C+ _$_9c67[131]+ J+ _$_9c67[132]+ L+ _$_9c67[133],t:M,token:sjcl[_$_9c67[135]](M+ _$_9c67[126],I+ _$_9c67[126]),rank:H+ _$_9c67[136]+ (3000000000000- M),playTime:K+ _$_9c67[126],todayRank:H+ _$_9c67[136]+ (3000000000000- M)});bestLevel[_$_9c67[107]]= I;loadBg[_$_9c67[14]][_$_9c67[106]](_$_9c67[120])}};restartBtn[_$_9c67[11]]= function(){for(var i=0;i< 99999;i++){clearTimeout(i)};game= null;leftDropNum= 10;game=  new Game();game[_$_9c67[105]]();levelP[_$_9c67[107]]= _$_9c67[119]+ 1};function getNumberInRange(Z,Y){var ba=Y- Z;var V=Math[_$_9c67[138]]();return Math[_$_9c67[128]](V* ba+ Z)}DUOSHUO[_$_9c67[152]][_$_9c67[151]](_$_9c67[139],function(){var P=function(Q){if(Q[_$_9c67[140]]== 0){userData= Q[_$_9c67[141]];userImg[_$_9c67[134]]= userData[_$_9c67[142]];userNameP[_$_9c67[107]]= userData[_$_9c67[104]];game=  new Game();game[_$_9c67[105]]();userBest();getRank();getTodayRank()}else {location[_$_9c67[143]]= _$_9c67[144]}};var O=function(Q){location[_$_9c67[143]]= _$_9c67[144]};DUOSHUO[_$_9c67[150]][_$_9c67[149]](_$_9c67[145],_$_9c67[146],{"user_id":this[_$_9c67[148]][_$_9c67[147]]},P,O)});function userBest(){user_ref[_$_9c67[163]](_$_9c67[153],function(bf){var N=userData[_$_9c67[104]]+ _$_9c67[126];var bf=bf[_$_9c67[154]]();var K= new Date()+ _$_9c67[126];if(bf[N]== undefined){bestLevel[_$_9c67[107]]= 1;todayBest[_$_9c67[107]]= 1;user_ref[_$_9c67[23]](N)[_$_9c67[155]]({name:N,level:1,UA:navigator[_$_9c67[129]],time:0,t:0,img:userImg[_$_9c67[134]],token:sjcl[_$_9c67[135]](0+ _$_9c67[126],1+ _$_9c67[126]),rank:0,playTime:K+ _$_9c67[126],id:userData[_$_9c67[147]],today:1,todayRank:0})}else {bestLevel[_$_9c67[107]]= bf[N][_$_9c67[47]];if(user_ref[_$_9c67[23]](N)[_$_9c67[122]]== 1){user_ref[_$_9c67[23]](N)[_$_9c67[23]](_$_9c67[122])[_$_9c67[155]]({level:1,UA:navigator[_$_9c67[129]],time:0,t:0,token:sjcl[_$_9c67[135]](0+ _$_9c67[126],1+ _$_9c67[126]),rank:0,playTime:K+ _$_9c67[126]})}else {if((bf[N][_$_9c67[122]]== undefined)&& ( new Date(bf[N][_$_9c67[157]])[_$_9c67[156]]()==  new Date(todayPlayTime)[_$_9c67[156]]())){user_ref[_$_9c67[23]](N)[_$_9c67[137]]({todayRank:bf[N][_$_9c67[158]]});user_ref[_$_9c67[23]](N)[_$_9c67[23]](_$_9c67[122])[_$_9c67[155]]({level:bf[N][_$_9c67[47]],UA:bf[N][_$_9c67[159]],time:bf[N][_$_9c67[160]],t:bf[N][_$_9c67[161]],token:bf[N][_$_9c67[162]],rank:bf[N][_$_9c67[158]],playTime:bf[N][_$_9c67[157]]});todayBest[_$_9c67[107]]= bf[N][_$_9c67[122]][_$_9c67[47]];return};if(bf[N][_$_9c67[122]]== undefined){user_ref[_$_9c67[23]](N)[_$_9c67[155]]({level:bf[N][_$_9c67[47]],UA:bf[N][_$_9c67[159]],time:bf[N][_$_9c67[160]],t:bf[N][_$_9c67[161]],token:bf[N][_$_9c67[162]],rank:bf[N][_$_9c67[158]],playTime:bf[N][_$_9c67[157]],todayRank:1});user_ref[_$_9c67[23]](N)[_$_9c67[23]](_$_9c67[122])[_$_9c67[155]]({level:1,UA:navigator[_$_9c67[129]],time:0,t:0,token:sjcl[_$_9c67[135]](0+ _$_9c67[126],1+ _$_9c67[126]),rank:0,playTime:K+ _$_9c67[126]});return};pastPlayTime= bf[N][_$_9c67[122]][_$_9c67[157]];if( new Date(pastPlayTime)[_$_9c67[156]]()!==  new Date(todayPlayTime)[_$_9c67[156]]()){user_ref[_$_9c67[23]](N)[_$_9c67[23]](_$_9c67[122])[_$_9c67[137]]({level:1,UA:navigator[_$_9c67[129]],time:0,t:0,token:sjcl[_$_9c67[135]](0+ _$_9c67[126],1+ _$_9c67[126]),rank:0,playTime:K+ _$_9c67[126]})}};todayBest[_$_9c67[107]]= bf[N][_$_9c67[122]][_$_9c67[47]]}})}var todayRankHtml=_$_9c67[126];var pastRankHtml=_$_9c67[126];function getRank(){user_ref[_$_9c67[174]](_$_9c67[158])[_$_9c67[173]](8)[_$_9c67[151]](_$_9c67[153],function(bd){var bc=[];var bb=8;bd[_$_9c67[167]](function(bf){var be=bf[_$_9c67[154]]();try{bc[_$_9c67[165]]({img:be[_$_9c67[164]],name:be[_$_9c67[104]],level:be[_$_9c67[47]]})}catch(err){console[_$_9c67[166]](err)}});if(bc[_$_9c67[94]]< 8){bb= bc[_$_9c67[94]]};pastRankHtml= _$_9c67[126];for(var i=0;i< bb;i++){pastRankHtml+= _$_9c67[168]+ (i+ 1)+ _$_9c67[169]+ bc[i][_$_9c67[164]]+ _$_9c67[170]+ bc[i][_$_9c67[104]]+ _$_9c67[171]+ bc[i][_$_9c67[47]]+ _$_9c67[172]}})}function getTodayRank(){user_ref[_$_9c67[174]](_$_9c67[175])[_$_9c67[173]](100)[_$_9c67[151]](_$_9c67[153],function(bd){todayPlayTime=  new Date()+ _$_9c67[126];var bc=[];var bb=8;var r=0;bd[_$_9c67[167]](function(bf){var be=bf[_$_9c67[154]]();try{if(be[_$_9c67[157]]!== undefined){if( new Date(be[_$_9c67[157]])[_$_9c67[156]]()==  new Date(todayPlayTime)[_$_9c67[156]]()){bc[_$_9c67[165]]({img:be[_$_9c67[164]],name:be[_$_9c67[104]],level:be[_$_9c67[47]]});r++};if(r== 8){return}}}catch(err){console[_$_9c67[166]](err)}});if(bc[_$_9c67[94]]< 8){bb= bc[_$_9c67[94]]};todayRankHtml= _$_9c67[126];for(var i=0;i< bb;i++){todayRankHtml+= _$_9c67[168]+ (i+ 1)+ _$_9c67[169]+ bc[i][_$_9c67[164]]+ _$_9c67[170]+ bc[i][_$_9c67[104]]+ _$_9c67[171]+ bc[i][_$_9c67[47]]+ _$_9c67[172]};levelRank[_$_9c67[107]]= todayRankHtml;loadBg[_$_9c67[14]][_$_9c67[106]](_$_9c67[120])})}var switchButton=document[_$_9c67[7]](_$_9c67[176]);var rankTitle=document[_$_9c67[7]](_$_9c67[177]);switchButton[_$_9c67[11]]= function(){if(rankTitle[_$_9c67[107]]== _$_9c67[178]){levelRank[_$_9c67[107]]= pastRankHtml;rankTitle[_$_9c67[107]]= _$_9c67[179];switchButton[_$_9c67[107]]= _$_9c67[180]}else {levelRank[_$_9c67[107]]= todayRankHtml;rankTitle[_$_9c67[107]]= _$_9c67[178];switchButton[_$_9c67[107]]= _$_9c67[181]}}