var _$_5281=["touchmove","preventDefault","addEventListener","body","DOMContentLoaded","attach","menuButton","getElementById","sideBar","mask","loading","onclick","open","toggle","classList","show","remove","ten-drop.wilddog.com","https://ten-drop.wilddogio.com","initializeApp","ref","sync","user","child","userImg","levelRank","userName","canvas","2d","getContext","width","height","leftDrop","NONE","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","push","info","restartBtn","level","bestLevel","todayBest","best","loadBg","x","y","generation","direction","colorArr","#43A6FF","#1BD369","#FF7575","prototype","chooseDraw","color","draw_1","draw_2","draw_3","draw_4","draw_5","left","add_broken","dropCollection","right","up","down","save","fillStyle","scale","beginPath","moveTo","PI","arc","closePath","fill","restore","w","h","hor","ver","boardArr","lineTo","stroke","dropArr","brokenArr","clearRect","length","process","splice","isInto","board","floor","gameStart","pause","startTime","endTime","name","init","add","innerHTML","timeChange","clickSelect","getTime","isGameOver","Game over!","offsetX","offsetY","You win! Try your best to go to next level!","nextLevel","You lose!","fly","Level ","hide","setBest","today","Try your best! Give you another "," drop!","","0","round","userAgent","\u5929 ","\u5c0f\u65f6 "," \u5206\u949f"," \u79d2","src","encrypt","_","update","random","reset","code","response","avatar_url","href","https://bupt-hjm.github.io/ten-drop/","GET","users/profile","user_id","data","ajax","API","on","visitor","value","val","set","toDateString","playTime","rank","UA","time","t","token","once","img","unshift","log","forEach","<p><span class='user-rank'>","</span><img src=","><span class='user-rank-name'>","</span><span class='user-level'>level ","</span></p>","limitToLast","orderByChild","todayRank","switch","rankTitle","\u4eca\u65e5\u5b9e\u65f6\u6392\u884c\u699c","\u5386\u53f2\u6392\u884c\u699c","\u4eca\u65e5","\u5386\u53f2"];document[_$_5281[3]][_$_5281[2]](_$_5281[0],function(a){a[_$_5281[1]]()},false);if(_$_5281[2] in  document){document[_$_5281[2]](_$_5281[4],function(){FastClick[_$_5281[5]](document[_$_5281[3]])},false)};var menuButton=document[_$_5281[7]](_$_5281[6]);var sideBar=document[_$_5281[7]](_$_5281[8]);var mask=document[_$_5281[7]](_$_5281[9]);var loading=document[_$_5281[7]](_$_5281[10]);menuButton[_$_5281[11]]= function(){sideBar[_$_5281[14]][_$_5281[13]](_$_5281[12]);mask[_$_5281[14]][_$_5281[13]](_$_5281[15])};mask[_$_5281[11]]= function(){sideBar[_$_5281[14]][_$_5281[16]](_$_5281[12]);mask[_$_5281[14]][_$_5281[16]](_$_5281[15])};var pastPlayTime;var todayPlayTime= new Date();var userData;var config={authDomain:_$_5281[17],syncURL:_$_5281[18]};var defApp=wilddog[_$_5281[19]](config);var ref=wilddog[_$_5281[21]]()[_$_5281[20]]();var user_ref=ref[_$_5281[23]](_$_5281[22]);var userImg=document[_$_5281[7]](_$_5281[24]);var levelRank=document[_$_5281[7]](_$_5281[25]);var userNameP=document[_$_5281[7]](_$_5281[26]);var canvas=document[_$_5281[7]](_$_5281[27]);var ctx=canvas[_$_5281[29]](_$_5281[28]);canvas[_$_5281[30]]= 600;canvas[_$_5281[31]]= 600;var w=canvas[_$_5281[30]];var h=canvas[_$_5281[31]];var leftDropNum=10;var leftDropSpan=document[_$_5281[7]](_$_5281[32]);var leftDropArr=[_$_5281[33],_$_5281[34],_$_5281[35],_$_5281[36],_$_5281[37],_$_5281[38],_$_5281[39],_$_5281[40],_$_5281[41],_$_5281[42],_$_5281[43]];for(var i=11;i< 100;i++){leftDropArr[_$_5281[44]](i)};var infoP=document[_$_5281[7]](_$_5281[45]);var restartBtn=document[_$_5281[7]](_$_5281[46]);var levelP=document[_$_5281[7]](_$_5281[47]);var bestLevel=document[_$_5281[7]](_$_5281[48]);var todayBest=document[_$_5281[7]](_$_5281[49]);var best=document[_$_5281[7]](_$_5281[50]);var loadBg=document[_$_5281[7]](_$_5281[51]);var game=null;var Drop=function(){this[_$_5281[52]]= w/ 2;this[_$_5281[53]]= h/ 2;this[_$_5281[54]]= 1;this[_$_5281[55]]= null;this[_$_5281[56]]= [_$_5281[57],_$_5281[58],_$_5281[59]]};Drop[_$_5281[60]]= {process:function(){this[_$_5281[61]]()},chooseDraw:function(){var b=(game[_$_5281[47]]- 1)% 3;this[_$_5281[62]]= this[_$_5281[56]][b];switch(this[_$_5281[54]]){case 1:this[_$_5281[63]]();break;case 2:this[_$_5281[64]]();break;case 3:this[_$_5281[65]]();break;case 4:this[_$_5281[66]]();break;case 5:this[_$_5281[67]]();break;default:break}},draw_1:function(){EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],15,20,this[_$_5281[62]])},draw_2:function(){EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],30,30,this[_$_5281[62]])},draw_3:function(){EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],45,35,this[_$_5281[62]])},draw_4:function(){EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],50,50,this[_$_5281[62]])},draw_5:function(){var c=this[_$_5281[52]];var d=this[_$_5281[53]];if(this[_$_5281[55]]== null){this[_$_5281[54]]= 6;EvenCompEllipse(ctx,this[_$_5281[52]]- 20,this[_$_5281[53]],10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]]+ 20,this[_$_5281[53]],10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]]- 20,10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]]+ 20,10,10,this[_$_5281[62]])}else {EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],10,10,this[_$_5281[62]]);EvenCompEllipse(ctx,this[_$_5281[52]],this[_$_5281[53]],10,10,this[_$_5281[62]]);return};var f= new Drop();f[_$_5281[52]]= c- 20;f[_$_5281[53]]= d;f[_$_5281[54]]= 5;f[_$_5281[55]]= _$_5281[68];game[_$_5281[70]][_$_5281[69]](f);var g= new Drop();g[_$_5281[52]]= c+ 20;g[_$_5281[53]]= d;g[_$_5281[54]]= 5;g[_$_5281[55]]= _$_5281[71];game[_$_5281[70]][_$_5281[69]](g);var j= new Drop();j[_$_5281[52]]= c;j[_$_5281[53]]= d+ 20;j[_$_5281[54]]= 5;j[_$_5281[55]]= _$_5281[72];game[_$_5281[70]][_$_5281[69]](j);var e= new Drop();e[_$_5281[52]]= c;e[_$_5281[53]]= d- 20;e[_$_5281[54]]= 5;e[_$_5281[55]]= _$_5281[73];game[_$_5281[70]][_$_5281[69]](e)}};function EvenCompEllipse(T,m,n,R,S,U){T[_$_5281[74]]();T[_$_5281[75]]= U;var V=(R> S)?R:S;var W=R/ V;var X=S/ V;T[_$_5281[76]](W,X);T[_$_5281[77]]();T[_$_5281[78]]((m+ R)/ W,n/ X);T[_$_5281[80]](m/ W,n/ X,V,0,2* Math[_$_5281[79]]);T[_$_5281[81]]();T[_$_5281[82]]();T[_$_5281[83]]()}var Board=function(){this[_$_5281[84]]= canvas[_$_5281[30]];this[_$_5281[85]]= canvas[_$_5281[31]];this[_$_5281[86]]= 6;this[_$_5281[87]]= 6;this[_$_5281[88]]= []};Board[_$_5281[60]]= {init:function(){for(var i=0;i< this[_$_5281[86]];i++){for(var k=0;k< this[_$_5281[87]];k++){var m=i* this[_$_5281[84]]/ this[_$_5281[86]]+ this[_$_5281[84]]/ this[_$_5281[86]]/ 2;var n=k* this[_$_5281[85]]/ this[_$_5281[87]]+ this[_$_5281[85]]/ this[_$_5281[87]]/ 2;var l={x:m,y:n};this[_$_5281[88]][_$_5281[44]](l)}}},draw:function(){for(var i=0;i<= this[_$_5281[86]];i++){ctx[_$_5281[74]]();ctx[_$_5281[77]]();ctx[_$_5281[78]](i* this[_$_5281[84]]/ this[_$_5281[86]],0);ctx[_$_5281[89]](i* this[_$_5281[84]]/ this[_$_5281[86]],this[_$_5281[85]]);ctx[_$_5281[81]]();ctx[_$_5281[90]]();ctx[_$_5281[83]]()};for(var i=0;i<= this[_$_5281[87]];i++){ctx[_$_5281[74]]();ctx[_$_5281[77]]();ctx[_$_5281[78]](0,i* this[_$_5281[85]]/ this[_$_5281[87]]);ctx[_$_5281[89]](this[_$_5281[84]],i* this[_$_5281[85]]/ this[_$_5281[87]]);ctx[_$_5281[81]]();ctx[_$_5281[90]]();ctx[_$_5281[83]]()}}};var DropCollection=function(){this[_$_5281[91]]= [];this[_$_5281[92]]= []};DropCollection[_$_5281[60]]= {process:function(){ctx[_$_5281[93]](0,0,canvas[_$_5281[30]],canvas[_$_5281[31]]);for(var i=0;i< this[_$_5281[91]][_$_5281[94]];i++){if(this[_$_5281[91]][i][_$_5281[54]]== 6){continue};this[_$_5281[91]][i][_$_5281[95]]()};for(var i=0;i< this[_$_5281[92]][_$_5281[94]];i++){if(this[_$_5281[92]][i][_$_5281[54]]== 6){continue};this[_$_5281[92]][i][_$_5281[95]]()}},add:function(o){this[_$_5281[91]][_$_5281[44]](o)},remove:function(o){for(var i=0;i< this[_$_5281[91]][_$_5281[94]];i++){if(this[_$_5281[91]][i]== o){this[_$_5281[91]][_$_5281[96]](i,1)}}},add_broken:function(o){this[_$_5281[92]][_$_5281[44]](o)},remove_broken:function(o){for(var i=0;i< this[_$_5281[92]][_$_5281[94]];i++){if(this[_$_5281[92]][i]== o){this[_$_5281[92]][_$_5281[96]](i,1)}}},fly:function(o){for(var i=0;i< this[_$_5281[92]][_$_5281[94]];i++){if(this[_$_5281[92]][i][_$_5281[54]]== 6){continue};if(this[_$_5281[97]](this[_$_5281[92]][i][_$_5281[52]],this[_$_5281[92]][i][_$_5281[53]])|| this[_$_5281[92]][i][_$_5281[52]]< -5|| this[_$_5281[92]][i][_$_5281[52]]> canvas[_$_5281[30]]+ 5|| this[_$_5281[92]][i][_$_5281[53]]> canvas[_$_5281[31]]+ 5|| this[_$_5281[92]][i][_$_5281[53]]<  -5){this[_$_5281[92]][i][_$_5281[54]]= 6;continue};switch(this[_$_5281[92]][i][_$_5281[55]]){case _$_5281[68]:this[_$_5281[92]][i][_$_5281[52]]--;break;case _$_5281[71]:this[_$_5281[92]][i][_$_5281[52]]++;break;case _$_5281[72]:this[_$_5281[92]][i][_$_5281[53]]++;break;case _$_5281[73]:this[_$_5281[92]][i][_$_5281[53]]--;break;default:break}}},isInto:function(m,n){var p=game[_$_5281[98]];var q=game[_$_5281[70]][_$_5281[91]];var i=Math[_$_5281[99]](m/ (p[_$_5281[84]]/ p[_$_5281[86]]));var k=Math[_$_5281[99]](n/ (p[_$_5281[85]]/ p[_$_5281[87]]));for(var r=0;r< q[_$_5281[94]];r++){if((q[r][_$_5281[52]]== (i* p[_$_5281[84]]/ p[_$_5281[86]]+ p[_$_5281[84]]/ p[_$_5281[86]]/ 2))&& (q[r][_$_5281[53]]== (k* p[_$_5281[85]]/ p[_$_5281[87]]+ p[_$_5281[85]]/ p[_$_5281[87]]/ 2))&& (q[r][_$_5281[54]]<= 4)){q[r][_$_5281[54]]++;if(q[r][_$_5281[54]]> 6){q[r][_$_5281[54]]= 6};return true}};return false}};var Game=function(){this[_$_5281[98]]= null;this[_$_5281[70]]= null;this[_$_5281[100]]= false;this[_$_5281[47]]= 1;this[_$_5281[101]]= false;this[_$_5281[102]]= 0;this[_$_5281[103]]= 0;this[_$_5281[104]]= null};Game[_$_5281[60]]= {init:function(){ctx[_$_5281[93]](0,0,canvas[_$_5281[30]],canvas[_$_5281[31]]);var p= new Board();p[_$_5281[105]]();this[_$_5281[98]]= p;var s= new DropCollection();for(var i=0;i< p[_$_5281[88]][_$_5281[94]];i++){var o= new Drop();o[_$_5281[54]]= getNumberInRange(1,4);o[_$_5281[52]]= p[_$_5281[88]][i][_$_5281[52]];o[_$_5281[53]]= p[_$_5281[88]][i][_$_5281[53]];s[_$_5281[106]](o)};leftDropSpan[_$_5281[107]]= leftDropArr[10];this[_$_5281[108]]();this[_$_5281[70]]= s;this[_$_5281[109]]();this[_$_5281[102]]=  new Date()[_$_5281[110]]()},clickSelect:function(){var t=this;var p=this[_$_5281[98]];canvas[_$_5281[11]]= function(u){u[_$_5281[1]]();if(this[_$_5281[101]]){return};if(leftDropNum== 0|| t[_$_5281[111]]()){alert(_$_5281[112]);return};t[_$_5281[100]]= true;var i=Math[_$_5281[99]](u[_$_5281[113]]/ (p[_$_5281[84]]/ p[_$_5281[86]]));var k=Math[_$_5281[99]](u[_$_5281[114]]/ (p[_$_5281[85]]/ p[_$_5281[87]]));var q=t[_$_5281[70]][_$_5281[91]];for(var r=0;r< q[_$_5281[94]];r++){if((q[r][_$_5281[52]]== (i* p[_$_5281[84]]/ p[_$_5281[86]]+ p[_$_5281[84]]/ p[_$_5281[86]]/ 2))&& (q[r][_$_5281[53]]== (k* p[_$_5281[85]]/ p[_$_5281[87]]+ p[_$_5281[85]]/ p[_$_5281[87]]/ 2))){if(q[r][_$_5281[54]]>= 5){continue};q[r][_$_5281[54]]++;leftDropNum--;leftDropSpan[_$_5281[107]]= leftDropArr[leftDropNum];t[_$_5281[70]][_$_5281[95]]()}}}},timeChange:function(){var t=this;if(this[_$_5281[100]]&& this[_$_5281[111]]()&& !this[_$_5281[101]]){info[_$_5281[107]]= _$_5281[115];this[_$_5281[101]]= true;setTimeout(function(){t[_$_5281[116]]();t[_$_5281[101]]= false},1000)};if(leftDropNum== 0&& !this[_$_5281[111]]()){info[_$_5281[107]]= _$_5281[117]};var t=this;setTimeout(function(){t[_$_5281[70]][_$_5281[118]]();t[_$_5281[70]][_$_5281[95]]();t[_$_5281[108]]()},4)},isGameOver:function(){var v=0;var q=this[_$_5281[70]][_$_5281[91]];for(var r=0;r< q[_$_5281[94]];r++){if(q[r][_$_5281[54]]== 6){v++}};if(v== q[_$_5281[94]]){return true}else {return false}},nextLevel:function(){this[_$_5281[47]]++;levelP[_$_5281[107]]= _$_5281[119]+ this[_$_5281[47]];if(this[_$_5281[47]]> +bestLevel[_$_5281[107]]){loadBg[_$_5281[14]][_$_5281[16]](_$_5281[120]);this[_$_5281[121]](this[_$_5281[47]])};if(this[_$_5281[47]]> +todayBest[_$_5281[107]]){this[_$_5281[121]](this[_$_5281[47]],_$_5281[122])};ctx[_$_5281[93]](0,0,canvas[_$_5281[30]],canvas[_$_5281[31]]);this[_$_5281[100]]= false;this[_$_5281[70]]= null;var p=this[_$_5281[98]];var s= new DropCollection();var v=0;for(var i=0;i< p[_$_5281[88]][_$_5281[94]];i++){var o= new Drop();o[_$_5281[54]]= getNumberInRange(1,4);v+= o[_$_5281[54]];o[_$_5281[52]]= p[_$_5281[88]][i][_$_5281[52]];o[_$_5281[53]]= p[_$_5281[88]][i][_$_5281[53]];s[_$_5281[106]](o)};var z;if(leftDropNum+ 7<= 20){z= 7}else {z= 20- leftDropNum};leftDropNum+= z;leftDropSpan[_$_5281[107]]= leftDropArr[leftDropNum];info[_$_5281[107]]= _$_5281[123]+ z+ _$_5281[124];this[_$_5281[70]]= s},setBest:function(I,B){var N=userData[_$_5281[104]]+ _$_5281[125];var H=I+ _$_5281[125];var G=H[_$_5281[94]];for(var i=0;i< 6- G;i++){H= _$_5281[126]+ H};var K= new Date()+ _$_5281[125];this[_$_5281[103]]=  new Date()[_$_5281[110]]();var M=this[_$_5281[103]]- this[_$_5281[102]];var A=Math[_$_5281[99]](M/ (24* 3600* 1000));var D=M% (24* 3600* 1000);var C=Math[_$_5281[99]](D/ (3600* 1000));var E=D% (3600* 1000);var J=Math[_$_5281[99]](E/ (60* 1000));var F=E% (60* 1000);var L=Math[_$_5281[127]](F/ 1000);if(B== _$_5281[122]){user_ref[_$_5281[23]](N)[_$_5281[23]](_$_5281[122])[_$_5281[136]]({level:I,UA:navigator[_$_5281[128]],time:A+ _$_5281[129]+ C+ _$_5281[130]+ J+ _$_5281[131]+ L+ _$_5281[132],img:userImg[_$_5281[133]],t:M,token:sjcl[_$_5281[134]](M+ _$_5281[125],I+ _$_5281[125]),rank:H+ _$_5281[135]+ (3000000000000- M),playTime:K+ _$_5281[125]});user_ref[_$_5281[23]](N)[_$_5281[136]]({todayRank:H+ _$_5281[135]+ (3000000000000- M)});todayBest[_$_5281[107]]= I;return};user_ref[_$_5281[23]](N)[_$_5281[136]]({level:I,UA:navigator[_$_5281[128]],time:A+ _$_5281[129]+ C+ _$_5281[130]+ J+ _$_5281[131]+ L+ _$_5281[132],t:M,token:sjcl[_$_5281[134]](M+ _$_5281[125],I+ _$_5281[125]),rank:H+ _$_5281[135]+ (3000000000000- M),playTime:K+ _$_5281[125],todayRank:H+ _$_5281[135]+ (3000000000000- M)});bestLevel[_$_5281[107]]= I}};restartBtn[_$_5281[11]]= function(){for(var i=0;i< 99999;i++){clearTimeout(i)};game= null;leftDropNum= 10;game=  new Game();game[_$_5281[105]]();levelP[_$_5281[107]]= _$_5281[119]+ 1};function getNumberInRange(Z,Y){var ba=Y- Z;var V=Math[_$_5281[137]]();return Math[_$_5281[127]](V* ba+ Z)}DUOSHUO[_$_5281[151]][_$_5281[150]](_$_5281[138],function(){var P=function(Q){if(Q[_$_5281[139]]== 0){userData= Q[_$_5281[140]];userImg[_$_5281[133]]= userData[_$_5281[141]];userNameP[_$_5281[107]]= userData[_$_5281[104]];game=  new Game();game[_$_5281[105]]();userBest();getRank();getTodayRank()}else {location[_$_5281[142]]= _$_5281[143]}};var O=function(Q){location[_$_5281[142]]= _$_5281[143]};DUOSHUO[_$_5281[149]][_$_5281[148]](_$_5281[144],_$_5281[145],{"user_id":this[_$_5281[147]][_$_5281[146]]},P,O)});function userBest(){user_ref[_$_5281[162]](_$_5281[152],function(bf){var N=userData[_$_5281[104]]+ _$_5281[125];var bf=bf[_$_5281[153]]();var K= new Date()+ _$_5281[125];if(bf[N]== undefined){bestLevel[_$_5281[107]]= 1;todayBest[_$_5281[107]]= 1;user_ref[_$_5281[23]](N)[_$_5281[154]]({name:N,level:1,UA:navigator[_$_5281[128]],time:0,t:0,img:userImg[_$_5281[133]],token:sjcl[_$_5281[134]](0+ _$_5281[125],1+ _$_5281[125]),rank:0,playTime:K+ _$_5281[125],id:userData[_$_5281[146]],today:1,todayRank:0})}else {bestLevel[_$_5281[107]]= bf[N][_$_5281[47]];if(user_ref[_$_5281[23]](N)[_$_5281[122]]== 1){user_ref[_$_5281[23]](N)[_$_5281[23]](_$_5281[122])[_$_5281[154]]({level:1,UA:navigator[_$_5281[128]],time:0,t:0,token:sjcl[_$_5281[134]](0+ _$_5281[125],1+ _$_5281[125]),rank:0,playTime:K+ _$_5281[125]})}else {if((bf[N][_$_5281[122]]== undefined)&& ( new Date(bf[N][_$_5281[156]])[_$_5281[155]]()==  new Date(todayPlayTime)[_$_5281[155]]())){user_ref[_$_5281[23]](N)[_$_5281[136]]({todayRank:bf[N][_$_5281[157]]});user_ref[_$_5281[23]](N)[_$_5281[23]](_$_5281[122])[_$_5281[154]]({level:bf[N][_$_5281[47]],UA:bf[N][_$_5281[158]],time:bf[N][_$_5281[159]],t:bf[N][_$_5281[160]],token:bf[N][_$_5281[161]],rank:bf[N][_$_5281[157]],playTime:bf[N][_$_5281[156]]});todayBest[_$_5281[107]]= bf[N][_$_5281[122]][_$_5281[47]];return};if(bf[N][_$_5281[122]]== undefined){user_ref[_$_5281[23]](N)[_$_5281[154]]({level:bf[N][_$_5281[47]],UA:bf[N][_$_5281[158]],time:bf[N][_$_5281[159]],t:bf[N][_$_5281[160]],token:bf[N][_$_5281[161]],rank:bf[N][_$_5281[157]],playTime:bf[N][_$_5281[156]],todayRank:1});user_ref[_$_5281[23]](N)[_$_5281[23]](_$_5281[122])[_$_5281[154]]({level:1,UA:navigator[_$_5281[128]],time:0,t:0,token:sjcl[_$_5281[134]](0+ _$_5281[125],1+ _$_5281[125]),rank:0,playTime:K+ _$_5281[125]});return};pastPlayTime= bf[N][_$_5281[122]][_$_5281[156]];if( new Date(pastPlayTime)[_$_5281[155]]()!==  new Date(todayPlayTime)[_$_5281[155]]()){user_ref[_$_5281[23]](N)[_$_5281[23]](_$_5281[122])[_$_5281[136]]({level:1,UA:navigator[_$_5281[128]],time:0,t:0,token:sjcl[_$_5281[134]](0+ _$_5281[125],1+ _$_5281[125]),rank:0,playTime:K+ _$_5281[125]})}};todayBest[_$_5281[107]]= bf[N][_$_5281[122]][_$_5281[47]]}})}var todayRankHtml=_$_5281[125];var pastRankHtml=_$_5281[125];function getRank(){user_ref[_$_5281[173]](_$_5281[157])[_$_5281[172]](8)[_$_5281[150]](_$_5281[152],function(bd){var bc=[];var bb=8;bd[_$_5281[166]](function(bf){var be=bf[_$_5281[153]]();try{bc[_$_5281[164]]({img:be[_$_5281[163]],name:be[_$_5281[104]],level:be[_$_5281[47]]})}catch(err){console[_$_5281[165]](err)}});if(bc[_$_5281[94]]< 8){bb= bc[_$_5281[94]]};pastRankHtml= _$_5281[125];for(var i=0;i< bb;i++){pastRankHtml+= _$_5281[167]+ (i+ 1)+ _$_5281[168]+ bc[i][_$_5281[163]]+ _$_5281[169]+ bc[i][_$_5281[104]]+ _$_5281[170]+ bc[i][_$_5281[47]]+ _$_5281[171]}})}function getTodayRank(){user_ref[_$_5281[173]](_$_5281[174])[_$_5281[172]](100)[_$_5281[150]](_$_5281[152],function(bd){todayPlayTime=  new Date()+ _$_5281[125];var bc=[];var bb=8;var r=0;bd[_$_5281[166]](function(bf){var be=bf[_$_5281[153]]();try{if(be[_$_5281[156]]!== undefined&& be[_$_5281[122]]!== undefined){if( new Date(be[_$_5281[122]][_$_5281[156]])[_$_5281[155]]()==  new Date(todayPlayTime)[_$_5281[155]]()){bc[_$_5281[164]]({img:be[_$_5281[163]],name:be[_$_5281[104]],level:be[_$_5281[47]]});r++};if(r== 8){return}}}catch(err){console[_$_5281[165]](err)}});if(bc[_$_5281[94]]< 8){bb= bc[_$_5281[94]]};todayRankHtml= _$_5281[125];for(var i=0;i< bb;i++){todayRankHtml+= _$_5281[167]+ (i+ 1)+ _$_5281[168]+ bc[i][_$_5281[163]]+ _$_5281[169]+ bc[i][_$_5281[104]]+ _$_5281[170]+ bc[i][_$_5281[47]]+ _$_5281[171]};levelRank[_$_5281[107]]= todayRankHtml});loadBg[_$_5281[14]][_$_5281[106]](_$_5281[120])}var switchButton=document[_$_5281[7]](_$_5281[175]);var rankTitle=document[_$_5281[7]](_$_5281[176]);switchButton[_$_5281[11]]= function(){if(rankTitle[_$_5281[107]]== _$_5281[177]){levelRank[_$_5281[107]]= pastRankHtml;rankTitle[_$_5281[107]]= _$_5281[178];switchButton[_$_5281[107]]= _$_5281[179]}else {levelRank[_$_5281[107]]= todayRankHtml;rankTitle[_$_5281[107]]= _$_5281[177];switchButton[_$_5281[107]]= _$_5281[180]}}