var _$_2af5=["touchmove","preventDefault","addEventListener","body","DOMContentLoaded","attach","menuButton","getElementById","sideBar","mask","loading","onclick","open","toggle","classList","show","remove","ten-drop.wilddog.com","https://ten-drop.wilddogio.com","initializeApp","ref","sync","user","child","userImg","levelRank","userName","canvas","2d","getContext","width","height","leftDrop","NONE","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","push","info","restartBtn","level","bestLevel","todayBest","best","loadBg","x","y","generation","direction","colorArr","#43A6FF","#1BD369","#FF7575","prototype","chooseDraw","color","draw_1","draw_2","draw_3","draw_4","draw_5","left","add_broken","dropCollection","right","up","down","save","fillStyle","scale","beginPath","moveTo","PI","arc","closePath","fill","restore","w","h","hor","ver","boardArr","lineTo","stroke","dropArr","brokenArr","clearRect","length","process","splice","isInto","board","floor","gameStart","pause","startTime","endTime","name","init","add","innerHTML","timeChange","clickSelect","getTime","isGameOver","Game over!","offsetX","offsetY","You win! Try your best to go to next level!","nextLevel","You lose!","fly","Level ","hide","setBest","today","Try your best! Give you another "," drop!","","0","round","userAgent","\u5929 ","\u5c0f\u65f6 "," \u5206\u949f"," \u79d2","src","encrypt","_","update","random","reset","code","response","avatar_url","href","https://bupt-hjm.github.io/ten-drop/","GET","users/profile","user_id","data","ajax","API","on","visitor","value","val","set","toDateString","playTime","rank","UA","time","t","token","once","img","unshift","log","forEach","<p><span class='user-rank'>","</span><img src=","><span class='user-rank-name'>","</span><span class='user-level'>level ","</span></p>","limitToLast","orderByChild","todayRank","switch","rankTitle","\u4eca\u65e5\u5b9e\u65f6\u6392\u884c\u699c","\u5386\u53f2\u6392\u884c\u699c","\u4eca\u65e5","\u5386\u53f2"];document[_$_2af5[3]][_$_2af5[2]](_$_2af5[0],function(a){a[_$_2af5[1]]()},false);if(_$_2af5[2] in  document){document[_$_2af5[2]](_$_2af5[4],function(){FastClick[_$_2af5[5]](document[_$_2af5[3]])},false)};var menuButton=document[_$_2af5[7]](_$_2af5[6]);var sideBar=document[_$_2af5[7]](_$_2af5[8]);var mask=document[_$_2af5[7]](_$_2af5[9]);var loading=document[_$_2af5[7]](_$_2af5[10]);menuButton[_$_2af5[11]]= function(){sideBar[_$_2af5[14]][_$_2af5[13]](_$_2af5[12]);mask[_$_2af5[14]][_$_2af5[13]](_$_2af5[15])};mask[_$_2af5[11]]= function(){sideBar[_$_2af5[14]][_$_2af5[16]](_$_2af5[12]);mask[_$_2af5[14]][_$_2af5[16]](_$_2af5[15])};var pastPlayTime;var todayPlayTime= new Date();var userData;var config={authDomain:_$_2af5[17],syncURL:_$_2af5[18]};var defApp=wilddog[_$_2af5[19]](config);var ref=wilddog[_$_2af5[21]]()[_$_2af5[20]]();var user_ref=ref[_$_2af5[23]](_$_2af5[22]);var userImg=document[_$_2af5[7]](_$_2af5[24]);var levelRank=document[_$_2af5[7]](_$_2af5[25]);var userNameP=document[_$_2af5[7]](_$_2af5[26]);var canvas=document[_$_2af5[7]](_$_2af5[27]);var ctx=canvas[_$_2af5[29]](_$_2af5[28]);canvas[_$_2af5[30]]= 600;canvas[_$_2af5[31]]= 600;var w=canvas[_$_2af5[30]];var h=canvas[_$_2af5[31]];var leftDropNum=10;var leftDropSpan=document[_$_2af5[7]](_$_2af5[32]);var leftDropArr=[_$_2af5[33],_$_2af5[34],_$_2af5[35],_$_2af5[36],_$_2af5[37],_$_2af5[38],_$_2af5[39],_$_2af5[40],_$_2af5[41],_$_2af5[42],_$_2af5[43]];for(var i=11;i< 100;i++){leftDropArr[_$_2af5[44]](i)};var infoP=document[_$_2af5[7]](_$_2af5[45]);var restartBtn=document[_$_2af5[7]](_$_2af5[46]);var levelP=document[_$_2af5[7]](_$_2af5[47]);var bestLevel=document[_$_2af5[7]](_$_2af5[48]);var todayBest=document[_$_2af5[7]](_$_2af5[49]);var best=document[_$_2af5[7]](_$_2af5[50]);var loadBg=document[_$_2af5[7]](_$_2af5[51]);var game=null;var Drop=function(){this[_$_2af5[52]]= w/ 2;this[_$_2af5[53]]= h/ 2;this[_$_2af5[54]]= 1;this[_$_2af5[55]]= null;this[_$_2af5[56]]= [_$_2af5[57],_$_2af5[58],_$_2af5[59]]};Drop[_$_2af5[60]]= {process:function(){this[_$_2af5[61]]()},chooseDraw:function(){var b=(game[_$_2af5[47]]- 1)% 3;this[_$_2af5[62]]= this[_$_2af5[56]][b];switch(this[_$_2af5[54]]){case 1:this[_$_2af5[63]]();break;case 2:this[_$_2af5[64]]();break;case 3:this[_$_2af5[65]]();break;case 4:this[_$_2af5[66]]();break;case 5:this[_$_2af5[67]]();break;default:break}},draw_1:function(){EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],15,20,this[_$_2af5[62]])},draw_2:function(){EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],30,30,this[_$_2af5[62]])},draw_3:function(){EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],45,35,this[_$_2af5[62]])},draw_4:function(){EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],50,50,this[_$_2af5[62]])},draw_5:function(){var c=this[_$_2af5[52]];var d=this[_$_2af5[53]];if(this[_$_2af5[55]]== null){this[_$_2af5[54]]= 6;EvenCompEllipse(ctx,this[_$_2af5[52]]- 20,this[_$_2af5[53]],10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]]+ 20,this[_$_2af5[53]],10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]]- 20,10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]]+ 20,10,10,this[_$_2af5[62]])}else {EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],10,10,this[_$_2af5[62]]);EvenCompEllipse(ctx,this[_$_2af5[52]],this[_$_2af5[53]],10,10,this[_$_2af5[62]]);return};var f= new Drop();f[_$_2af5[52]]= c- 20;f[_$_2af5[53]]= d;f[_$_2af5[54]]= 5;f[_$_2af5[55]]= _$_2af5[68];game[_$_2af5[70]][_$_2af5[69]](f);var g= new Drop();g[_$_2af5[52]]= c+ 20;g[_$_2af5[53]]= d;g[_$_2af5[54]]= 5;g[_$_2af5[55]]= _$_2af5[71];game[_$_2af5[70]][_$_2af5[69]](g);var j= new Drop();j[_$_2af5[52]]= c;j[_$_2af5[53]]= d+ 20;j[_$_2af5[54]]= 5;j[_$_2af5[55]]= _$_2af5[72];game[_$_2af5[70]][_$_2af5[69]](j);var e= new Drop();e[_$_2af5[52]]= c;e[_$_2af5[53]]= d- 20;e[_$_2af5[54]]= 5;e[_$_2af5[55]]= _$_2af5[73];game[_$_2af5[70]][_$_2af5[69]](e)}};function EvenCompEllipse(T,m,n,R,S,U){T[_$_2af5[74]]();T[_$_2af5[75]]= U;var V=(R> S)?R:S;var W=R/ V;var X=S/ V;T[_$_2af5[76]](W,X);T[_$_2af5[77]]();T[_$_2af5[78]]((m+ R)/ W,n/ X);T[_$_2af5[80]](m/ W,n/ X,V,0,2* Math[_$_2af5[79]]);T[_$_2af5[81]]();T[_$_2af5[82]]();T[_$_2af5[83]]()}var Board=function(){this[_$_2af5[84]]= canvas[_$_2af5[30]];this[_$_2af5[85]]= canvas[_$_2af5[31]];this[_$_2af5[86]]= 6;this[_$_2af5[87]]= 6;this[_$_2af5[88]]= []};Board[_$_2af5[60]]= {init:function(){for(var i=0;i< this[_$_2af5[86]];i++){for(var k=0;k< this[_$_2af5[87]];k++){var m=i* this[_$_2af5[84]]/ this[_$_2af5[86]]+ this[_$_2af5[84]]/ this[_$_2af5[86]]/ 2;var n=k* this[_$_2af5[85]]/ this[_$_2af5[87]]+ this[_$_2af5[85]]/ this[_$_2af5[87]]/ 2;var l={x:m,y:n};this[_$_2af5[88]][_$_2af5[44]](l)}}},draw:function(){for(var i=0;i<= this[_$_2af5[86]];i++){ctx[_$_2af5[74]]();ctx[_$_2af5[77]]();ctx[_$_2af5[78]](i* this[_$_2af5[84]]/ this[_$_2af5[86]],0);ctx[_$_2af5[89]](i* this[_$_2af5[84]]/ this[_$_2af5[86]],this[_$_2af5[85]]);ctx[_$_2af5[81]]();ctx[_$_2af5[90]]();ctx[_$_2af5[83]]()};for(var i=0;i<= this[_$_2af5[87]];i++){ctx[_$_2af5[74]]();ctx[_$_2af5[77]]();ctx[_$_2af5[78]](0,i* this[_$_2af5[85]]/ this[_$_2af5[87]]);ctx[_$_2af5[89]](this[_$_2af5[84]],i* this[_$_2af5[85]]/ this[_$_2af5[87]]);ctx[_$_2af5[81]]();ctx[_$_2af5[90]]();ctx[_$_2af5[83]]()}}};var DropCollection=function(){this[_$_2af5[91]]= [];this[_$_2af5[92]]= []};DropCollection[_$_2af5[60]]= {process:function(){ctx[_$_2af5[93]](0,0,canvas[_$_2af5[30]],canvas[_$_2af5[31]]);for(var i=0;i< this[_$_2af5[91]][_$_2af5[94]];i++){if(this[_$_2af5[91]][i][_$_2af5[54]]== 6){continue};this[_$_2af5[91]][i][_$_2af5[95]]()};for(var i=0;i< this[_$_2af5[92]][_$_2af5[94]];i++){if(this[_$_2af5[92]][i][_$_2af5[54]]== 6){continue};this[_$_2af5[92]][i][_$_2af5[95]]()}},add:function(o){this[_$_2af5[91]][_$_2af5[44]](o)},remove:function(o){for(var i=0;i< this[_$_2af5[91]][_$_2af5[94]];i++){if(this[_$_2af5[91]][i]== o){this[_$_2af5[91]][_$_2af5[96]](i,1)}}},add_broken:function(o){this[_$_2af5[92]][_$_2af5[44]](o)},remove_broken:function(o){for(var i=0;i< this[_$_2af5[92]][_$_2af5[94]];i++){if(this[_$_2af5[92]][i]== o){this[_$_2af5[92]][_$_2af5[96]](i,1)}}},fly:function(o){for(var i=0;i< this[_$_2af5[92]][_$_2af5[94]];i++){if(this[_$_2af5[92]][i][_$_2af5[54]]== 6){continue};if(this[_$_2af5[97]](this[_$_2af5[92]][i][_$_2af5[52]],this[_$_2af5[92]][i][_$_2af5[53]])|| this[_$_2af5[92]][i][_$_2af5[52]]< -5|| this[_$_2af5[92]][i][_$_2af5[52]]> canvas[_$_2af5[30]]+ 5|| this[_$_2af5[92]][i][_$_2af5[53]]> canvas[_$_2af5[31]]+ 5|| this[_$_2af5[92]][i][_$_2af5[53]]<  -5){this[_$_2af5[92]][i][_$_2af5[54]]= 6;continue};switch(this[_$_2af5[92]][i][_$_2af5[55]]){case _$_2af5[68]:this[_$_2af5[92]][i][_$_2af5[52]]--;break;case _$_2af5[71]:this[_$_2af5[92]][i][_$_2af5[52]]++;break;case _$_2af5[72]:this[_$_2af5[92]][i][_$_2af5[53]]++;break;case _$_2af5[73]:this[_$_2af5[92]][i][_$_2af5[53]]--;break;default:break}}},isInto:function(m,n){var p=game[_$_2af5[98]];var q=game[_$_2af5[70]][_$_2af5[91]];var i=Math[_$_2af5[99]](m/ (p[_$_2af5[84]]/ p[_$_2af5[86]]));var k=Math[_$_2af5[99]](n/ (p[_$_2af5[85]]/ p[_$_2af5[87]]));for(var r=0;r< q[_$_2af5[94]];r++){if((q[r][_$_2af5[52]]== (i* p[_$_2af5[84]]/ p[_$_2af5[86]]+ p[_$_2af5[84]]/ p[_$_2af5[86]]/ 2))&& (q[r][_$_2af5[53]]== (k* p[_$_2af5[85]]/ p[_$_2af5[87]]+ p[_$_2af5[85]]/ p[_$_2af5[87]]/ 2))&& (q[r][_$_2af5[54]]<= 4)){q[r][_$_2af5[54]]++;if(q[r][_$_2af5[54]]> 6){q[r][_$_2af5[54]]= 6};return true}};return false}};var Game=function(){this[_$_2af5[98]]= null;this[_$_2af5[70]]= null;this[_$_2af5[100]]= false;this[_$_2af5[47]]= 1;this[_$_2af5[101]]= false;this[_$_2af5[102]]= 0;this[_$_2af5[103]]= 0;this[_$_2af5[104]]= null};Game[_$_2af5[60]]= {init:function(){ctx[_$_2af5[93]](0,0,canvas[_$_2af5[30]],canvas[_$_2af5[31]]);var p= new Board();p[_$_2af5[105]]();this[_$_2af5[98]]= p;var s= new DropCollection();for(var i=0;i< p[_$_2af5[88]][_$_2af5[94]];i++){var o= new Drop();o[_$_2af5[54]]= getNumberInRange(1,4);o[_$_2af5[52]]= p[_$_2af5[88]][i][_$_2af5[52]];o[_$_2af5[53]]= p[_$_2af5[88]][i][_$_2af5[53]];s[_$_2af5[106]](o)};leftDropSpan[_$_2af5[107]]= leftDropArr[10];this[_$_2af5[108]]();this[_$_2af5[70]]= s;this[_$_2af5[109]]();this[_$_2af5[102]]=  new Date()[_$_2af5[110]]()},clickSelect:function(){var t=this;var p=this[_$_2af5[98]];canvas[_$_2af5[11]]= function(u){u[_$_2af5[1]]();if(this[_$_2af5[101]]){return};if(leftDropNum== 0|| t[_$_2af5[111]]()){alert(_$_2af5[112]);return};t[_$_2af5[100]]= true;var i=Math[_$_2af5[99]](u[_$_2af5[113]]/ (p[_$_2af5[84]]/ p[_$_2af5[86]]));var k=Math[_$_2af5[99]](u[_$_2af5[114]]/ (p[_$_2af5[85]]/ p[_$_2af5[87]]));var q=t[_$_2af5[70]][_$_2af5[91]];for(var r=0;r< q[_$_2af5[94]];r++){if((q[r][_$_2af5[52]]== (i* p[_$_2af5[84]]/ p[_$_2af5[86]]+ p[_$_2af5[84]]/ p[_$_2af5[86]]/ 2))&& (q[r][_$_2af5[53]]== (k* p[_$_2af5[85]]/ p[_$_2af5[87]]+ p[_$_2af5[85]]/ p[_$_2af5[87]]/ 2))){if(q[r][_$_2af5[54]]>= 5){continue};q[r][_$_2af5[54]]++;leftDropNum--;leftDropSpan[_$_2af5[107]]= leftDropArr[leftDropNum];t[_$_2af5[70]][_$_2af5[95]]()}}}},timeChange:function(){var t=this;if(this[_$_2af5[100]]&& this[_$_2af5[111]]()&& !this[_$_2af5[101]]){info[_$_2af5[107]]= _$_2af5[115];this[_$_2af5[101]]= true;setTimeout(function(){t[_$_2af5[116]]();t[_$_2af5[101]]= false},1000)};if(leftDropNum== 0&& !this[_$_2af5[111]]()){info[_$_2af5[107]]= _$_2af5[117]};var t=this;setTimeout(function(){t[_$_2af5[70]][_$_2af5[118]]();t[_$_2af5[70]][_$_2af5[95]]();t[_$_2af5[108]]()},4)},isGameOver:function(){var v=0;var q=this[_$_2af5[70]][_$_2af5[91]];for(var r=0;r< q[_$_2af5[94]];r++){if(q[r][_$_2af5[54]]== 6){v++}};if(v== q[_$_2af5[94]]){return true}else {return false}},nextLevel:function(){this[_$_2af5[47]]++;levelP[_$_2af5[107]]= _$_2af5[119]+ this[_$_2af5[47]];if(this[_$_2af5[47]]> +bestLevel[_$_2af5[107]]){loadBg[_$_2af5[14]][_$_2af5[16]](_$_2af5[120]);this[_$_2af5[121]](this[_$_2af5[47]])};if(this[_$_2af5[47]]> +todayBest[_$_2af5[107]]){this[_$_2af5[121]](this[_$_2af5[47]],_$_2af5[122])};ctx[_$_2af5[93]](0,0,canvas[_$_2af5[30]],canvas[_$_2af5[31]]);this[_$_2af5[100]]= false;this[_$_2af5[70]]= null;var p=this[_$_2af5[98]];var s= new DropCollection();var v=0;for(var i=0;i< p[_$_2af5[88]][_$_2af5[94]];i++){var o= new Drop();o[_$_2af5[54]]= getNumberInRange(1,4);v+= o[_$_2af5[54]];o[_$_2af5[52]]= p[_$_2af5[88]][i][_$_2af5[52]];o[_$_2af5[53]]= p[_$_2af5[88]][i][_$_2af5[53]];s[_$_2af5[106]](o)};var z;if(leftDropNum+ 7<= 20){z= 7}else {z= 20- leftDropNum};leftDropNum+= z;leftDropSpan[_$_2af5[107]]= leftDropArr[leftDropNum];info[_$_2af5[107]]= _$_2af5[123]+ z+ _$_2af5[124];this[_$_2af5[70]]= s},setBest:function(I,B){var N=userData[_$_2af5[104]]+ _$_2af5[125];var H=I+ _$_2af5[125];var G=H[_$_2af5[94]];for(var i=0;i< 6- G;i++){H= _$_2af5[126]+ H};var K= new Date()+ _$_2af5[125];this[_$_2af5[103]]=  new Date()[_$_2af5[110]]();var M=this[_$_2af5[103]]- this[_$_2af5[102]];var A=Math[_$_2af5[99]](M/ (24* 3600* 1000));var D=M% (24* 3600* 1000);var C=Math[_$_2af5[99]](D/ (3600* 1000));var E=D% (3600* 1000);var J=Math[_$_2af5[99]](E/ (60* 1000));var F=E% (60* 1000);var L=Math[_$_2af5[127]](F/ 1000);if(B== _$_2af5[122]){user_ref[_$_2af5[23]](N)[_$_2af5[23]](_$_2af5[122])[_$_2af5[136]]({level:I,UA:navigator[_$_2af5[128]],time:A+ _$_2af5[129]+ C+ _$_2af5[130]+ J+ _$_2af5[131]+ L+ _$_2af5[132],img:userImg[_$_2af5[133]],t:M,token:sjcl[_$_2af5[134]](M+ _$_2af5[125],I+ _$_2af5[125]),rank:H+ _$_2af5[135]+ (3000000000000- M),playTime:K+ _$_2af5[125]});user_ref[_$_2af5[23]](N)[_$_2af5[136]]({todayRank:H+ _$_2af5[135]+ (3000000000000- M)});todayBest[_$_2af5[107]]= I;return};user_ref[_$_2af5[23]](N)[_$_2af5[136]]({level:I,UA:navigator[_$_2af5[128]],time:A+ _$_2af5[129]+ C+ _$_2af5[130]+ J+ _$_2af5[131]+ L+ _$_2af5[132],t:M,token:sjcl[_$_2af5[134]](M+ _$_2af5[125],I+ _$_2af5[125]),rank:H+ _$_2af5[135]+ (3000000000000- M),playTime:K+ _$_2af5[125],todayRank:H+ _$_2af5[135]+ (3000000000000- M)});bestLevel[_$_2af5[107]]= I}};restartBtn[_$_2af5[11]]= function(){for(var i=0;i< 99999;i++){clearTimeout(i)};game= null;leftDropNum= 10;game=  new Game();game[_$_2af5[105]]();levelP[_$_2af5[107]]= _$_2af5[119]+ 1};function getNumberInRange(Z,Y){var ba=Y- Z;var V=Math[_$_2af5[137]]();return Math[_$_2af5[127]](V* ba+ Z)}DUOSHUO[_$_2af5[151]][_$_2af5[150]](_$_2af5[138],function(){var P=function(Q){if(Q[_$_2af5[139]]== 0){userData= Q[_$_2af5[140]];userImg[_$_2af5[133]]= userData[_$_2af5[141]];userNameP[_$_2af5[107]]= userData[_$_2af5[104]];game=  new Game();game[_$_2af5[105]]();userBest();getRank();getTodayRank()}else {location[_$_2af5[142]]= _$_2af5[143]}};var O=function(Q){location[_$_2af5[142]]= _$_2af5[143]};DUOSHUO[_$_2af5[149]][_$_2af5[148]](_$_2af5[144],_$_2af5[145],{"user_id":this[_$_2af5[147]][_$_2af5[146]]},P,O)});function userBest(){user_ref[_$_2af5[162]](_$_2af5[152],function(bf){var N=userData[_$_2af5[104]]+ _$_2af5[125];var bf=bf[_$_2af5[153]]();var K= new Date()+ _$_2af5[125];if(bf[N]== undefined){bestLevel[_$_2af5[107]]= 1;todayBest[_$_2af5[107]]= 1;user_ref[_$_2af5[23]](N)[_$_2af5[154]]({name:N,level:1,UA:navigator[_$_2af5[128]],time:0,t:0,img:userImg[_$_2af5[133]],token:sjcl[_$_2af5[134]](0+ _$_2af5[125],1+ _$_2af5[125]),rank:0,playTime:K+ _$_2af5[125],id:userData[_$_2af5[146]],today:1,todayRank:0})}else {bestLevel[_$_2af5[107]]= bf[N][_$_2af5[47]];if(user_ref[_$_2af5[23]](N)[_$_2af5[122]]== 1){user_ref[_$_2af5[23]](N)[_$_2af5[23]](_$_2af5[122])[_$_2af5[154]]({level:1,UA:navigator[_$_2af5[128]],time:0,t:0,token:sjcl[_$_2af5[134]](0+ _$_2af5[125],1+ _$_2af5[125]),rank:0,playTime:K+ _$_2af5[125]})}else {if((bf[N][_$_2af5[122]]== undefined)&& ( new Date(bf[N][_$_2af5[156]])[_$_2af5[155]]()==  new Date(todayPlayTime)[_$_2af5[155]]())){user_ref[_$_2af5[23]](N)[_$_2af5[136]]({todayRank:bf[N][_$_2af5[157]]});user_ref[_$_2af5[23]](N)[_$_2af5[23]](_$_2af5[122])[_$_2af5[154]]({level:bf[N][_$_2af5[47]],UA:bf[N][_$_2af5[158]],time:bf[N][_$_2af5[159]],t:bf[N][_$_2af5[160]],token:bf[N][_$_2af5[161]],rank:bf[N][_$_2af5[157]],playTime:bf[N][_$_2af5[156]]});todayBest[_$_2af5[107]]= bf[N][_$_2af5[122]][_$_2af5[47]];return};if(bf[N][_$_2af5[122]]== undefined){user_ref[_$_2af5[23]](N)[_$_2af5[154]]({level:bf[N][_$_2af5[47]],UA:bf[N][_$_2af5[158]],time:bf[N][_$_2af5[159]],t:bf[N][_$_2af5[160]],token:bf[N][_$_2af5[161]],rank:bf[N][_$_2af5[157]],playTime:bf[N][_$_2af5[156]],todayRank:1});user_ref[_$_2af5[23]](N)[_$_2af5[23]](_$_2af5[122])[_$_2af5[154]]({level:1,UA:navigator[_$_2af5[128]],time:0,t:0,token:sjcl[_$_2af5[134]](0+ _$_2af5[125],1+ _$_2af5[125]),rank:0,playTime:K+ _$_2af5[125]});return};pastPlayTime= bf[N][_$_2af5[122]][_$_2af5[156]];if( new Date(pastPlayTime)[_$_2af5[155]]()!==  new Date(todayPlayTime)[_$_2af5[155]]()){user_ref[_$_2af5[23]](N)[_$_2af5[23]](_$_2af5[122])[_$_2af5[136]]({level:1,UA:navigator[_$_2af5[128]],time:0,t:0,token:sjcl[_$_2af5[134]](0+ _$_2af5[125],1+ _$_2af5[125]),rank:0,playTime:K+ _$_2af5[125]})}};todayBest[_$_2af5[107]]= bf[N][_$_2af5[122]][_$_2af5[47]]}})}var todayRankHtml=_$_2af5[125];var pastRankHtml=_$_2af5[125];function getRank(){user_ref[_$_2af5[173]](_$_2af5[157])[_$_2af5[172]](8)[_$_2af5[150]](_$_2af5[152],function(bd){var bc=[];var bb=8;bd[_$_2af5[166]](function(bf){var be=bf[_$_2af5[153]]();try{bc[_$_2af5[164]]({img:be[_$_2af5[163]],name:be[_$_2af5[104]],level:be[_$_2af5[47]]})}catch(err){console[_$_2af5[165]](err)}});if(bc[_$_2af5[94]]< 8){bb= bc[_$_2af5[94]]};pastRankHtml= _$_2af5[125];for(var i=0;i< bb;i++){pastRankHtml+= _$_2af5[167]+ (i+ 1)+ _$_2af5[168]+ bc[i][_$_2af5[163]]+ _$_2af5[169]+ bc[i][_$_2af5[104]]+ _$_2af5[170]+ bc[i][_$_2af5[47]]+ _$_2af5[171]}})}function getTodayRank(){user_ref[_$_2af5[173]](_$_2af5[174])[_$_2af5[172]](100)[_$_2af5[150]](_$_2af5[152],function(bd){todayPlayTime=  new Date()+ _$_2af5[125];var bc=[];var bb=8;var r=0;bd[_$_2af5[166]](function(bf){var be=bf[_$_2af5[153]]();try{if(be[_$_2af5[156]]!== undefined&& be[_$_2af5[122]]!== undefined){if( new Date(be[_$_2af5[156]])[_$_2af5[155]]()==  new Date(todayPlayTime)[_$_2af5[155]]()){bc[_$_2af5[164]]({img:be[_$_2af5[163]],name:be[_$_2af5[104]],level:be[_$_2af5[47]]});r++};if(r== 8){return}}}catch(err){console[_$_2af5[165]](err)}});if(bc[_$_2af5[94]]< 8){bb= bc[_$_2af5[94]]};todayRankHtml= _$_2af5[125];for(var i=0;i< bb;i++){todayRankHtml+= _$_2af5[167]+ (i+ 1)+ _$_2af5[168]+ bc[i][_$_2af5[163]]+ _$_2af5[169]+ bc[i][_$_2af5[104]]+ _$_2af5[170]+ bc[i][_$_2af5[47]]+ _$_2af5[171]};levelRank[_$_2af5[107]]= todayRankHtml});loadBg[_$_2af5[14]][_$_2af5[106]](_$_2af5[120])}var switchButton=document[_$_2af5[7]](_$_2af5[175]);var rankTitle=document[_$_2af5[7]](_$_2af5[176]);switchButton[_$_2af5[11]]= function(){if(rankTitle[_$_2af5[107]]== _$_2af5[177]){levelRank[_$_2af5[107]]= pastRankHtml;rankTitle[_$_2af5[107]]= _$_2af5[178];switchButton[_$_2af5[107]]= _$_2af5[179]}else {levelRank[_$_2af5[107]]= todayRankHtml;rankTitle[_$_2af5[107]]= _$_2af5[177];switchButton[_$_2af5[107]]= _$_2af5[180]}}